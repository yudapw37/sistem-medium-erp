import{r as D,a as m,c as S,w as r,b as a,u as p,Z as j,d as e,t as o,k as I,x as $,g,p as C,F as P,e as l,n as B,h as F,O as N}from"./app-DA0EYa_6.js";import{I as O}from"./IconChartPie-CTdAAtd0.js";import{I as T}from"./IconEye-Bk7XjJNy.js";import{_ as A}from"./DashboardLayout-DqHF1oae.js";import{_ as L}from"./Button-mcRGNCmf.js";import{_ as U}from"./Table-CzIMA27R.js";import{_ as z}from"./TableCard-BYxyxo2i.js";import{_ as E,a as R}from"./TableTbody-BBPwPiVX.js";import{_ as d,a as i}from"./TableTh-CVR3I-fd.js";import{_ as K}from"./Pagination-B8BHcZ6z.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconChevronRight-QKrPJlsB.js";const M={class:"mb-6"},Z={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},G={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},H={class:"text-2xl font-bold font-mono text-slate-900 dark:text-white"},J={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},Q={class:"text-2xl font-bold font-mono text-green-600"},W={class:"bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl p-6 text-white"},X={class:"text-2xl font-bold font-mono"},Y={class:"mb-4 flex flex-wrap gap-4"},tt=["value"],et=["href"],at=["href"],st={key:1},kt={__name:"Index",props:{receivables:Object,summary:Object,customers:Array,filters:Object},setup(n){var y,k;const v=n,b=D(((y=v.filters)==null?void 0:y.customer_id)||""),c=D(((k=v.filters)==null?void 0:k.status)||""),_=()=>{N.get(x("receivables.index"),{customer_id:b.value,status:c.value},{preserveState:!0})},V=u=>u?new Date(u).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",f=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u||0),x=(u,t)=>typeof window<"u"&&window.route?window.route(u,t):"#";return(u,t)=>(m(),S(A,null,{default:r(()=>{var w;return[a(p(j),{title:"Piutang"}),e("div",M,[e("div",Z,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Piutang Usaha"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Kelola piutang dari penjualan tempo ")],-1)),a(L,{type:"link",icon:p(O),class:"bg-amber-500 hover:bg-amber-600 text-white",label:"Aging Report",href:x("receivables.aging")},null,8,["icon","href"])])]),e("div",q,[e("div",G,[t[3]||(t[3]=e("p",{class:"text-sm text-slate-500 mb-1"},"Total Piutang",-1)),e("p",H,o(f(n.summary.total)),1)]),e("div",J,[t[4]||(t[4]=e("p",{class:"text-sm text-slate-500 mb-1"},"Sudah Dibayar",-1)),e("p",Q,o(f(n.summary.paid)),1)]),e("div",W,[t[5]||(t[5]=e("p",{class:"text-red-100 text-sm mb-1"},"Sisa Piutang",-1)),e("p",X,o(f(n.summary.remaining)),1)])]),e("div",Y,[I(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),onChange:_,class:"h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},[t[6]||(t[6]=e("option",{value:""},"Semua Pelanggan",-1)),(m(!0),g(P,null,C(n.customers,s=>(m(),g("option",{key:s.id,value:s.id},o(s.name),9,tt))),128))],544),[[$,b.value]]),I(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),onChange:_,class:"h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},[...t[7]||(t[7]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"unpaid"},"Belum Dibayar",-1),e("option",{value:"partial"},"Sebagian",-1)])],544),[[$,c.value]])]),a(z,{title:"Daftar Piutang"},{default:r(()=>[a(U,null,{default:r(()=>[a(E,null,{default:r(()=>[e("tr",null,[a(d,null,{default:r(()=>[...t[8]||(t[8]=[l("Invoice",-1)])]),_:1}),a(d,null,{default:r(()=>[...t[9]||(t[9]=[l("Tanggal",-1)])]),_:1}),a(d,null,{default:r(()=>[...t[10]||(t[10]=[l("Pelanggan",-1)])]),_:1}),a(d,{class:"text-right"},{default:r(()=>[...t[11]||(t[11]=[l("Total",-1)])]),_:1}),a(d,{class:"text-right"},{default:r(()=>[...t[12]||(t[12]=[l("Dibayar",-1)])]),_:1}),a(d,{class:"text-right"},{default:r(()=>[...t[13]||(t[13]=[l("Sisa",-1)])]),_:1}),a(d,null,{default:r(()=>[...t[14]||(t[14]=[l("Status",-1)])]),_:1}),a(d,{class:"text-center"},{default:r(()=>[...t[15]||(t[15]=[l("Aksi",-1)])]),_:1})])]),_:1}),a(R,null,{default:r(()=>[n.receivables.data.length>0?(m(!0),g(P,{key:0},C(n.receivables.data,s=>(m(),g("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[a(i,{class:"font-mono font-bold text-primary-600"},{default:r(()=>[l(o(s.invoice),1)]),_:2},1024),a(i,null,{default:r(()=>[l(o(V(s.created_at)),1)]),_:2},1024),a(i,null,{default:r(()=>{var h;return[e("a",{href:x("receivables.customer-card",s.customer_id),class:"text-primary-600 hover:underline"},o((h=s.customer)==null?void 0:h.name),9,et)]}),_:2},1024),a(i,{class:"text-right font-mono"},{default:r(()=>[l(o(f(s.grand_total)),1)]),_:2},1024),a(i,{class:"text-right font-mono text-green-600"},{default:r(()=>[l(o(f(s.paid_amount)),1)]),_:2},1024),a(i,{class:B(["text-right font-mono font-bold",s.remaining>0?"text-red-600":"text-green-600"])},{default:r(()=>[l(o(f(s.remaining)),1)]),_:2},1032,["class"]),a(i,null,{default:r(()=>[e("span",{class:B(["px-2 py-1 rounded-full text-xs font-semibold",s.is_paid?"bg-green-100 text-green-700":s.paid_amount>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"])},o(s.is_paid?"Lunas":s.paid_amount>0?"Sebagian":"Belum Bayar"),3)]),_:2},1024),a(i,{class:"text-center"},{default:r(()=>[e("a",{href:x("receivables.show",s.id),class:"p-1.5 rounded-lg hover:bg-primary-50 text-primary-600 inline-block",title:"Detail"},[a(p(T),{size:18})],8,at)]),_:2},1024)]))),128)):(m(),g("tr",st,[a(i,{colspan:"8",class:"text-center py-8"},{default:r(()=>[...t[16]||(t[16]=[e("p",{class:"text-slate-500"},"Tidak ada piutang",-1)])]),_:1})]))]),_:1})]),_:1})]),_:1}),(w=n.receivables)!=null&&w.links&&n.receivables.links.length>3?(m(),S(K,{key:0,links:n.receivables.links},null,8,["links"])):F("",!0)]}),_:1}))}};export{kt as default};
