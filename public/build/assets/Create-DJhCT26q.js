import{T as S,A as V,a as d,c as B,w as I,b as x,u as a,Z as C,d as e,t as l,f as M,k as u,v as p,e as m,g as i,h as c,x as g,p as v,F as y,n as N}from"./app-DA0EYa_6.js";import{I as T}from"./IconArrowLeft-gRB0gwWT.js";import{I as U}from"./IconCheck--wdzxov0.js";import{_ as q}from"./DashboardLayout-DqHF1oae.js";import{_ as w}from"./Button-mcRGNCmf.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";const D={class:"mb-6"},j={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},P={class:"text-2xl font-bold text-slate-900 dark:text-white"},F={class:"text-sm text-slate-500 dark:text-slate-400"},L={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={key:0,class:"text-red-500 text-sm mt-1"},$=["value"],z={key:0,class:"text-red-500 text-sm mt-1"},E={class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},J=["value"],Z={key:0,class:"text-red-500 text-sm mt-1"},G={class:"relative"},H=["value"],Q={key:0,class:"text-red-500 text-sm mt-1"},W={class:"md:col-span-2"},X={class:"flex justify-end mt-8 pt-6 border-t border-slate-200 dark:border-slate-700"},ue={__name:"Create",props:{type:String,cashAccounts:Array,accounts:Array,reference:String},setup(n){const k=n,s=S({type:k.type,reference:k.reference,date:new Date().toISOString().slice(0,10),cash_account_id:"",account_id:"",amount:"",description:""}),b=o=>o?o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",h=V(()=>b(s.amount)),_=o=>{let t=o.target.value.replace(/\./g,"").replace(/[^0-9]/g,"");s.amount=t,o.target.value=b(t)},K=o=>{o.target.value=b(s.amount)},A=()=>{s.post(f("cash-transactions.store"))},f=(o,t)=>typeof window<"u"&&window.route?window.route(o,t):"#";return(o,t)=>(d(),B(q,null,{default:I(()=>[x(a(C),{title:n.type==="in"?"Kas Masuk":"Kas Keluar"},null,8,["title"]),e("div",D,[e("div",j,[e("div",null,[e("h1",P,l(n.type==="in"?"Kas Masuk":"Kas Keluar"),1),e("p",F," Catat transaksi "+l(n.type==="in"?"penerimaan":"pengeluaran")+" kas ",1)]),x(w,{type:"link",icon:a(T),class:"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50",label:"Kembali",href:f("cash-transactions.index")},null,8,["icon","href"])])]),e("div",L,[e("form",{onSubmit:M(A,["prevent"])},[e("div",O,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," No. Referensi ",-1)),u(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a(s).reference=r),disabled:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 font-mono"},null,512),[[p,a(s).reference]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[m(" Tanggal "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=r=>a(s).date=r),required:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200"},null,512),[[p,a(s).date]]),a(s).errors.date?(d(),i("p",R,l(a(s).errors.date),1)):c("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[m(" Akun Kas/Bank "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>a(s).cash_account_id=r),required:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200"},[t[7]||(t[7]=e("option",{value:""},"-- Pilih Akun Kas --",-1)),(d(!0),i(y,null,v(n.cashAccounts,r=>(d(),i("option",{key:r.id,value:r.id},l(r.code)+" - "+l(r.name),9,$))),128))],512),[[g,a(s).cash_account_id]]),a(s).errors.cash_account_id?(d(),i("p",z,l(a(s).errors.cash_account_id),1)):c("",!0)]),e("div",null,[e("label",E,[m(" Akun "+l(n.type==="in"?"Sumber Dana":"Tujuan Pembayaran")+" ",1),t[9]||(t[9]=e("span",{class:"text-red-500"},"*",-1))]),u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>a(s).account_id=r),required:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200"},[t[10]||(t[10]=e("option",{value:""},"-- Pilih Akun --",-1)),(d(!0),i(y,null,v(n.accounts,r=>(d(),i("option",{key:r.id,value:r.id},l(r.code)+" - "+l(r.name),9,J))),128))],512),[[g,a(s).account_id]]),a(s).errors.account_id?(d(),i("p",Z,l(a(s).errors.account_id),1)):c("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[m(" Jumlah "),e("span",{class:"text-red-500"},"*")],-1)),e("div",G,[t[11]||(t[11]=e("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 font-medium"},"Rp",-1)),e("input",{type:"text",value:h.value,onInput:_,onBlur:K,required:"",class:"w-full pl-12 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-right font-mono",placeholder:"0"},null,40,H)]),a(s).errors.amount?(d(),i("p",Q,l(a(s).errors.amount),1)):c("",!0)]),e("div",W,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Keterangan ",-1)),u(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=r=>a(s).description=r),rows:"3",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200",placeholder:"Keterangan transaksi..."},null,512),[[p,a(s).description]])])]),e("div",X,[x(w,{type:"submit",icon:a(U),label:n.type==="in"?"Simpan Kas Masuk":"Simpan Kas Keluar",class:N(n.type==="in"?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"),disabled:a(s).processing},null,8,["icon","label","class","disabled"])])],32)])]),_:1}))}};export{ue as default};
