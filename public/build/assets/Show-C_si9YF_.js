import{a as m,c as v,w as s,b as a,u as c,Z as I,d as e,t as i,n as D,e as r,g as b,p as $,F as z,h as F,O as S}from"./app-DA0EYa_6.js";import{I as C}from"./IconArrowLeft-gRB0gwWT.js";import{I as N}from"./IconCheck--wdzxov0.js";import{I as B}from"./IconEdit-CG94FACO.js";import{_ as V}from"./DashboardLayout-DqHF1oae.js";import{_ as g}from"./Button-mcRGNCmf.js";import{_ as j}from"./Table-CzIMA27R.js";import{_ as E}from"./TableCard-BYxyxo2i.js";import{_ as L,a as O}from"./TableTbody-BBPwPiVX.js";import{_ as d,a as o}from"./TableTh-CVR3I-fd.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";const P={class:"mb-6"},T={class:"flex items-center justify-between"},q={class:"text-sm text-slate-500 dark:text-slate-400"},G={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 mb-6"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"text-lg font-semibold text-slate-900 dark:text-white mt-1"},K={class:"text-lg font-semibold text-slate-900 dark:text-white mt-1"},Q={class:"text-lg font-semibold text-slate-900 dark:text-white mt-1"},R={class:"mt-1"},Z={class:"bg-slate-50 dark:bg-slate-800 font-bold"},J={key:0,class:"mt-6 flex justify-end gap-3"},mt={__name:"Show",props:{purchase:Object},setup(l){const w=l,f=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),x=(u,t)=>typeof window<"u"&&window.route?window.route(u,t):"#",_=()=>{confirm("Finalize purchase? Stock will be updated and purchase will be locked.")&&S.post(x("purchases.finalize",w.purchase.id))};return(u,t)=>(m(),v(V,null,{default:s(()=>{var p,h;return[a(c(I),{title:`Detail Pembelian ${l.purchase.invoice}`},null,8,["title"]),e("div",P,[e("div",T,[e("div",null,[t[0]||(t[0]=e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Detail Pembelian",-1)),e("p",q,i(l.purchase.invoice),1)]),a(g,{type:"link",icon:c(C),class:"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800",label:"Kembali",href:x("purchases.index")},null,8,["icon","href"])])]),e("div",G,[e("div",A,[e("div",null,[t[1]||(t[1]=e("label",{class:"text-sm font-medium text-slate-500 dark:text-slate-400"},"Supplier",-1)),e("p",H,i((p=l.purchase.supplier)==null?void 0:p.name),1)]),e("div",null,[t[2]||(t[2]=e("label",{class:"text-sm font-medium text-slate-500 dark:text-slate-400"},"Gudang",-1)),e("p",K,i((h=l.purchase.warehouse)==null?void 0:h.name),1)]),e("div",null,[t[3]||(t[3]=e("label",{class:"text-sm font-medium text-slate-500 dark:text-slate-400"},"Tanggal",-1)),e("p",Q,i(new Date(l.purchase.created_at).toLocaleString("id-ID")),1)]),e("div",null,[t[4]||(t[4]=e("label",{class:"text-sm font-medium text-slate-500 dark:text-slate-400"},"Status",-1)),e("p",R,[e("span",{class:D(["px-3 py-1 rounded-full text-sm font-semibold",l.purchase.status==="finalized"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},i(l.purchase.status==="finalized"?"Finalized":"Draft"),3)])])])]),a(E,{title:"Detail Item"},{default:s(()=>[a(j,null,{default:s(()=>[a(L,null,{default:s(()=>[e("tr",null,[a(d,{class:"w-10"},{default:s(()=>[...t[5]||(t[5]=[r("No",-1)])]),_:1}),a(d,null,{default:s(()=>[...t[6]||(t[6]=[r("Produk",-1)])]),_:1}),a(d,{class:"text-right"},{default:s(()=>[...t[7]||(t[7]=[r("Harga Beli",-1)])]),_:1}),a(d,{class:"text-center"},{default:s(()=>[...t[8]||(t[8]=[r("Qty",-1)])]),_:1}),a(d,{class:"text-right"},{default:s(()=>[...t[9]||(t[9]=[r("Subtotal",-1)])]),_:1})])]),_:1}),a(O,null,{default:s(()=>[(m(!0),b(z,null,$(l.purchase.details,(n,y)=>(m(),b("tr",{key:n.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[a(o,{class:"text-center"},{default:s(()=>[r(i(y+1),1)]),_:2},1024),a(o,{class:"font-medium text-slate-900 dark:text-white"},{default:s(()=>{var k;return[r(i((k=n.product)==null?void 0:k.title),1)]}),_:2},1024),a(o,{class:"text-right text-slate-700 dark:text-slate-300"},{default:s(()=>[r(i(f(n.buy_price)),1)]),_:2},1024),a(o,{class:"text-center font-semibold text-slate-900 dark:text-white"},{default:s(()=>[r(i(n.qty),1)]),_:2},1024),a(o,{class:"text-right font-bold text-slate-900 dark:text-white"},{default:s(()=>[r(i(f(n.buy_price*n.qty)),1)]),_:2},1024)]))),128)),e("tr",Z,[a(o,{colspan:"4",class:"text-right"},{default:s(()=>[...t[10]||(t[10]=[r("Grand Total",-1)])]),_:1}),a(o,{class:"text-right text-primary-600 dark:text-primary-400 text-lg"},{default:s(()=>[r(i(f(l.purchase.grand_total)),1)]),_:1})])]),_:1})]),_:1})]),_:1}),l.purchase.status==="draft"?(m(),b("div",J,[a(g,{type:"link",icon:c(B),class:"bg-amber-500 hover:bg-amber-600 text-white",label:"Edit",href:x("purchases.edit",l.purchase.id)},null,8,["icon","href"]),a(g,{type:"button",icon:c(N),class:"bg-green-500 hover:bg-green-600 text-white",label:"Finalize",onClick:_},null,8,["icon"])])):F("",!0)]}),_:1}))}};export{mt as default};
