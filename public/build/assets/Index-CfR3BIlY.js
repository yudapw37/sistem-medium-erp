import{K as c,a as i,c as h,w as a,b as s,u as S,Z as T,d as e,t as o,k as p,v as j,x as f,g as b,p as g,F as w,e as d,h as B,n as v,O as V}from"./app-CIYeQ-4j.js";import{_ as $}from"./DashboardLayout-CDE7-Y8V.js";import{_ as P}from"./Button-CxuUSqWK.js";import{_ as F,a as M}from"./TableTbody-B6-z0LtQ.js";import{_ as x,a as u}from"./TableTh-C_S67pHj.js";import{_ as O}from"./Pagination-DUsmzl5y.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconUsers-lhp4zDA0.js";import"./IconSun-B2kMHmLk.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";import"./IconChevronRight-CKLwVeXD.js";const C={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},N={class:"bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl border border-yellow-200 dark:border-yellow-800 p-4"},U={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},A={class:"bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800 p-4"},D={class:"text-2xl font-bold text-red-600 dark:text-red-400"},L={class:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-4"},z={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},G={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 mb-6"},K={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},E=["value"],H={class:"flex items-end"},I={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},R={class:"w-full"},Z={key:0},q={class:"font-medium text-slate-900 dark:text-white"},J={class:"text-xs text-slate-500"},ie={__name:"Index",props:{products:Object,warehouses:Array,filters:Object,stats:Object},setup(n){const m=n,r=c({reference_date:m.filters.reference_date,period_months:m.filters.period_months,warehouse_id:m.filters.warehouse_id,threshold:m.filters.threshold}),_=()=>{V.get(y("reports.slow-moving"),{reference_date:r.reference_date,period_months:r.period_months,warehouse_id:r.warehouse_id,threshold:r.threshold},{preserveState:!0,preserveScroll:!0})},y=(k,t)=>typeof window<"u"&&window.route?window.route(k,t):"#";return(k,t)=>(i(),h($,null,{default:a(()=>[s(S(T),{title:"Laporan Slow Moving"}),t[21]||(t[21]=e("div",{class:"mb-6"},[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Laporan Slow Moving"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Produk dengan pergerakan lambat atau tanpa penjualan. ")])])],-1)),e("div",C,[e("div",N,[t[4]||(t[4]=e("p",{class:"text-sm text-yellow-600 dark:text-yellow-400"},"Produk Slow Moving",-1)),e("p",U,o(n.stats.total_slow),1)]),e("div",A,[t[5]||(t[5]=e("p",{class:"text-sm text-red-600 dark:text-red-400"},"Tanpa Penjualan",-1)),e("p",D,o(n.stats.zero_sales),1)]),e("div",L,[t[6]||(t[6]=e("p",{class:"text-sm text-blue-600 dark:text-blue-400"},"Periode Analisis",-1)),e("p",z,o(n.stats.period_days)+" hari",1)])]),e("div",G,[t[14]||(t[14]=e("h3",{class:"font-semibold text-slate-900 dark:text-white mb-4"},"Filter",-1)),e("div",K,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Tanggal Referensi",-1)),p(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=l=>r.reference_date=l),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},null,512),[[j,r.reference_date]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Periode (bulan)",-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.period_months=l),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},[...t[8]||(t[8]=[e("option",{value:1},"1 Bulan",-1),e("option",{value:2},"2 Bulan",-1),e("option",{value:3},"3 Bulan",-1),e("option",{value:6},"6 Bulan",-1)])],512),[[f,r.period_months]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Batas Terjual",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>r.threshold=l),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},[...t[10]||(t[10]=[e("option",{value:0},"0 (Tidak Terjual)",-1),e("option",{value:5},"≤ 5 unit",-1),e("option",{value:10},"≤ 10 unit",-1),e("option",{value:20},"≤ 20 unit",-1)])],512),[[f,r.threshold]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Gudang",-1)),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>r.warehouse_id=l),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},[t[12]||(t[12]=e("option",{value:null},"Semua Gudang",-1)),(i(!0),b(w,null,g(n.warehouses,l=>(i(),b("option",{key:l.id,value:l.id},o(l.name),9,E))),128))],512),[[f,r.warehouse_id]])]),e("div",H,[s(P,{type:"button",label:"Filter",class:"bg-primary-500 hover:bg-primary-600 text-white",onClick:_})])])]),e("div",I,[e("table",R,[s(F,null,{default:a(()=>[e("tr",null,[s(x,null,{default:a(()=>[...t[15]||(t[15]=[d("Produk",-1)])]),_:1}),s(x,null,{default:a(()=>[...t[16]||(t[16]=[d("Kategori",-1)])]),_:1}),s(x,{class:"text-right"},{default:a(()=>[...t[17]||(t[17]=[d("Total Terjual",-1)])]),_:1}),s(x,{class:"text-right"},{default:a(()=>[...t[18]||(t[18]=[d("Avg/Hari",-1)])]),_:1}),s(x,{class:"text-center"},{default:a(()=>[...t[19]||(t[19]=[d("Status",-1)])]),_:1})])]),_:1}),s(M,null,{default:a(()=>[n.products.data.length===0?(i(),b("tr",Z,[s(u,{colspan:"5",class:"text-center text-slate-500 py-8"},{default:a(()=>[...t[20]||(t[20]=[d(" Tidak ada data produk. ",-1)])]),_:1})])):B("",!0),(i(!0),b(w,null,g(n.products.data,l=>(i(),b("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[s(u,null,{default:a(()=>[e("div",null,[e("p",q,o(l.title),1),e("p",J,o(l.barcode),1)])]),_:2},1024),s(u,null,{default:a(()=>[d(o(l.category||"-"),1)]),_:2},1024),s(u,{class:v(["text-right font-bold",l.total_sold===0?"text-red-600":"text-yellow-600"])},{default:a(()=>[d(o(l.total_sold),1)]),_:2},1032,["class"]),s(u,{class:"text-right"},{default:a(()=>[d(o(l.avg_daily_sales),1)]),_:2},1024),s(u,{class:"text-center"},{default:a(()=>[e("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",l.total_sold===0?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},o(l.total_sold===0?"Dead Stock":"Slow"),3)]),_:2},1024)]))),128))]),_:1})])]),s(O,{links:n.products.links},null,8,["links"])]),_:1}))}};export{ie as default};
