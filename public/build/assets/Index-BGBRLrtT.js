import{K as w,a as x,c as S,w as a,b as l,u as h,Z as V,d as e,t as d,k as m,v as j,x as k,g as f,p,F as _,m as B,e as o,h as $,n as c,O as A}from"./app-DA0EYa_6.js";import{_ as M}from"./DashboardLayout-DqHF1oae.js";import{_ as T}from"./Button-mcRGNCmf.js";import{_ as C,a as F}from"./TableTbody-BBPwPiVX.js";import{_ as u,a as n}from"./TableTh-CVR3I-fd.js";import{_ as H}from"./Pagination-B8BHcZ6z.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconChevronRight-QKrPJlsB.js";const K={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},O={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-4"},P={class:"text-2xl font-bold text-slate-900 dark:text-white"},U={class:"bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800 p-4"},N={class:"text-2xl font-bold text-red-600 dark:text-red-400"},D={class:"bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800 p-4"},L={class:"text-2xl font-bold text-green-600 dark:text-green-400"},G={class:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-4"},z={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},E={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 mb-6"},I={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},R=["value"],Z={class:"flex items-end gap-2"},q={class:"flex items-center gap-2 cursor-pointer"},J={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},Q={class:"w-full"},W={key:0},X={class:"font-medium text-slate-900 dark:text-white"},Y={class:"text-xs text-slate-500"},mt={__name:"Index",props:{products:Object,warehouses:Array,filters:Object,stats:Object},setup(i){const b=i,r=w({reference_date:b.filters.reference_date,period_months:b.filters.period_months,safety_days:b.filters.safety_days,warehouse_id:b.filters.warehouse_id,critical_only:b.filters.critical_only}),v=()=>{A.get(y("reports.minimum-stock"),{reference_date:r.reference_date,period_months:r.period_months,safety_days:r.safety_days,warehouse_id:r.warehouse_id,critical_only:r.critical_only?1:0},{preserveState:!0,preserveScroll:!0})},y=(g,t)=>typeof window<"u"&&window.route?window.route(g,t):"#";return(g,t)=>(x(),S(M,null,{default:a(()=>[l(h(V),{title:"Laporan Stok Minimal"}),t[26]||(t[26]=e("div",{class:"mb-6"},[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Laporan Stok Minimal"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Produk dengan stok di bawah batas minimal berdasarkan rata-rata penjualan. ")])])],-1)),e("div",K,[e("div",O,[t[5]||(t[5]=e("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Total Produk",-1)),e("p",P,d(i.stats.total_products),1)]),e("div",U,[t[6]||(t[6]=e("p",{class:"text-sm text-red-600 dark:text-red-400"},"Stok Kritis",-1)),e("p",N,d(i.stats.critical_count),1)]),e("div",D,[t[7]||(t[7]=e("p",{class:"text-sm text-green-600 dark:text-green-400"},"Stok Aman",-1)),e("p",L,d(i.stats.safe_count),1)]),e("div",G,[t[8]||(t[8]=e("p",{class:"text-sm text-blue-600 dark:text-blue-400"},"Periode Analisis",-1)),e("p",z,d(i.stats.period_days)+" hari",1)])]),e("div",E,[t[17]||(t[17]=e("h3",{class:"font-semibold text-slate-900 dark:text-white mb-4"},"Filter",-1)),e("div",I,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Tanggal Referensi",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=s=>r.reference_date=s),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},null,512),[[j,r.reference_date]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Periode (bulan)",-1)),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.period_months=s),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},[...t[10]||(t[10]=[e("option",{value:1},"1 Bulan",-1),e("option",{value:2},"2 Bulan",-1),e("option",{value:3},"3 Bulan",-1)])],512),[[k,r.period_months]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Safety Days",-1)),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.safety_days=s),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},[...t[12]||(t[12]=[e("option",{value:7},"7 Hari",-1),e("option",{value:14},"14 Hari",-1),e("option",{value:21},"21 Hari",-1),e("option",{value:30},"30 Hari",-1)])],512),[[k,r.safety_days]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm text-slate-600 dark:text-slate-400 mb-1"},"Gudang",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.warehouse_id=s),class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200"},[t[14]||(t[14]=e("option",{value:null},"Semua Gudang",-1)),(x(!0),f(_,null,p(i.warehouses,s=>(x(),f("option",{key:s.id,value:s.id},d(s.name),9,R))),128))],512),[[k,r.warehouse_id]])]),e("div",Z,[e("label",q,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>r.critical_only=s),class:"rounded border-slate-300"},null,512),[[B,r.critical_only]]),t[16]||(t[16]=e("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Kritis saja",-1))]),l(T,{type:"button",label:"Filter",class:"bg-primary-500 hover:bg-primary-600 text-white",onClick:v})])])]),e("div",J,[e("table",Q,[l(C,null,{default:a(()=>[e("tr",null,[l(u,null,{default:a(()=>[...t[18]||(t[18]=[o("Produk",-1)])]),_:1}),l(u,null,{default:a(()=>[...t[19]||(t[19]=[o("Kategori",-1)])]),_:1}),l(u,{class:"text-right"},{default:a(()=>[...t[20]||(t[20]=[o("Terjual",-1)])]),_:1}),l(u,{class:"text-right"},{default:a(()=>[...t[21]||(t[21]=[o("Avg/Hari",-1)])]),_:1}),l(u,{class:"text-right"},{default:a(()=>[...t[22]||(t[22]=[o("Stok Min",-1)])]),_:1}),l(u,{class:"text-right"},{default:a(()=>[...t[23]||(t[23]=[o("Stok Aktual",-1)])]),_:1}),l(u,{class:"text-center"},{default:a(()=>[...t[24]||(t[24]=[o("Status",-1)])]),_:1})])]),_:1}),l(F,null,{default:a(()=>[i.products.data.length===0?(x(),f("tr",W,[l(n,{colspan:"7",class:"text-center text-slate-500 py-8"},{default:a(()=>[...t[25]||(t[25]=[o(" Tidak ada data produk. ",-1)])]),_:1})])):$("",!0),(x(!0),f(_,null,p(i.products.data,s=>(x(),f("tr",{key:s.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[l(n,null,{default:a(()=>[e("div",null,[e("p",X,d(s.title),1),e("p",Y,d(s.barcode),1)])]),_:2},1024),l(n,null,{default:a(()=>[o(d(s.category||"-"),1)]),_:2},1024),l(n,{class:"text-right"},{default:a(()=>[o(d(s.total_sold),1)]),_:2},1024),l(n,{class:"text-right"},{default:a(()=>[o(d(s.avg_daily_sales),1)]),_:2},1024),l(n,{class:"text-right font-medium"},{default:a(()=>[o(d(s.min_stock),1)]),_:2},1024),l(n,{class:c(["text-right font-bold",s.status==="critical"?"text-red-600":"text-green-600"])},{default:a(()=>[o(d(s.current_stock),1)]),_:2},1032,["class"]),l(n,{class:"text-center"},{default:a(()=>[e("span",{class:c(["px-2 py-1 rounded-full text-xs font-semibold",s.status==="critical"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"])},d(s.status==="critical"?"Kritis":"Aman"),3)]),_:2},1024)]))),128))]),_:1})])]),l(H,{links:i.products.links},null,8,["links"])]),_:1}))}};export{mt as default};
