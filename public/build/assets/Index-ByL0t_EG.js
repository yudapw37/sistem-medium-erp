import{r as $,T as D,a as m,c as C,w as a,b as s,u as o,Z as q,d as e,h,g as p,F as _,t as r,e as n,p as A,n as I,k as R,v as T,f as j}from"./app-CIYeQ-4j.js";import{c as M}from"./IconSun-B2kMHmLk.js";import{f as W,a as Z,_ as G}from"./DashboardLayout-CDE7-Y8V.js";import{I as S}from"./IconPlus-GQDXKtBl.js";import{I as H}from"./IconReceipt-CzHzcLcH.js";import{c as Q}from"./createVueComponent-Cyzcg1Tn.js";import{_ as b}from"./Button-CxuUSqWK.js";import{_ as F}from"./Table-W38pwiux.js";import{_ as U}from"./TableCard-DWxSJUUQ.js";import{_ as V,a as N}from"./TableTbody-B6-z0LtQ.js";import{_ as f,a as u}from"./TableTh-C_S67pHj.js";import{_ as X}from"./Pagination-DUsmzl5y.js";import{_ as L}from"./Modal-BK6JeM5l.js";import"./IconUsers-lhp4zDA0.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconShoppingCart-C-7we8qa.js";import"./IconChevronRight-CKLwVeXD.js";/**
 * @license @tabler/icons-vue v3.36.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y=Q("outline","report-analytics","ReportAnalytics",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 17v-5",key:"svg-2"}],["path",{d:"M12 17v-1",key:"svg-3"}],["path",{d:"M15 17v-3",key:"svg-4"}]]);const tt={class:"mb-6"},et={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},st={class:"flex gap-2"},lt={key:0,class:"mb-6"},at={class:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-6 text-white"},nt={class:"flex items-center justify-between"},ot={class:"text-3xl font-bold font-mono"},rt={class:"text-emerald-100 text-sm mt-1"},it={class:"text-right"},dt={class:"text-emerald-100 text-sm"},ut={class:"text-white font-semibold"},mt={class:"inline-block mt-2 px-3 py-1 bg-white/20 rounded-full text-sm"},ft={key:1,class:"mb-6"},pt={class:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-8 text-center"},bt={key:2,class:"mb-6"},xt={class:"px-2 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700"},gt={key:1},kt={class:"space-y-4"},ct={class:"relative"},yt=["value"],vt={class:"flex justify-end gap-3 mt-6"},ht={class:"space-y-4"},wt={class:"relative"},Ct=["value"],_t={class:"flex justify-end gap-3 mt-6"},zt={__name:"Index",props:{activePettyCash:Object,remainingBalance:Number,pettyCashes:Object,recentExpenses:Array},setup(d){const k=$(!1),c=$(!1),x=D({amount:"",description:""}),g=D({amount:"",description:""}),z={transport:"Transportasi",atk:"ATK",listrik:"Listrik",air:"Air",telepon:"Telepon",konsumsi:"Konsumsi",parkir:"Parkir",foto_copy:"Foto Copy",materai:"Materai",kebersihan:"Kebersihan",perlengkapan:"Perlengkapan",lainnya:"Lainnya"},E=i=>z[i]||i,P=i=>i?i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",K=i=>i.replace(/\./g,"").replace(/[^0-9]/g,""),O=()=>{x.post(v("petty-cash.open"),{onSuccess:()=>{k.value=!1,x.reset()}})},J=()=>{g.post(v("petty-cash.replenish"),{onSuccess:()=>{c.value=!1,g.reset()}})},w=i=>i?new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",y=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i||0),v=(i,t)=>typeof window<"u"&&window.route?window.route(i,t):"#";return(i,t)=>(m(),C(G,null,{default:a(()=>{var B;return[s(o(q),{title:"Kas Kecil"}),e("div",tt,[e("div",et,[t[10]||(t[10]=e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Kas Kecil (Petty Cash)"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Pengelolaan kas kecil untuk operasional harian ")],-1)),e("div",st,[d.activePettyCash?h("",!0):(m(),C(b,{key:0,type:"button",onClick:t[0]||(t[0]=l=>k.value=!0),icon:o(S),class:"bg-green-500 hover:bg-green-600 text-white",label:"Buka Periode Baru"},null,8,["icon"])),d.activePettyCash?(m(),p(_,{key:1},[s(b,{type:"button",onClick:t[1]||(t[1]=l=>c.value=!0),icon:o(M),class:"bg-blue-500 hover:bg-blue-600 text-white",label:"Isi Ulang"},null,8,["icon"]),s(b,{type:"link",icon:o(H),class:"bg-primary-500 hover:bg-primary-600 text-white",label:"Pengeluaran",href:v("petty-cash.expenses")},null,8,["icon","href"]),s(b,{type:"link",icon:o(Y),class:"bg-amber-500 hover:bg-amber-600 text-white",label:"Pertanggungjawaban",href:v("petty-cash.settlement")},null,8,["icon","href"])],64)):h("",!0)])])]),d.activePettyCash?(m(),p("div",lt,[e("div",at,[e("div",nt,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-emerald-100 text-sm mb-1"},"Periode Aktif",-1)),e("h2",ot,r(y(d.remainingBalance)),1),e("p",rt,"Sisa saldo dari "+r(y(d.activePettyCash.amount)),1)]),e("div",it,[e("p",dt,r(d.activePettyCash.reference),1),e("p",ut,r(w(d.activePettyCash.date)),1),e("span",mt,[s(o(W),{size:16,class:"inline mr-1"}),t[12]||(t[12]=n(" Aktif ",-1))])])])])])):(m(),p("div",ft,[e("div",pt,[s(o(Z),{size:48,class:"mx-auto text-slate-400 mb-4"}),t[13]||(t[13]=e("h3",{class:"text-lg font-bold text-slate-700 dark:text-slate-300"},"Belum ada periode aktif",-1)),t[14]||(t[14]=e("p",{class:"text-slate-500 mt-2"},"Buka periode baru untuk mulai mencatat kas kecil",-1))])])),d.recentExpenses.length>0?(m(),p("div",bt,[s(U,{title:"Pengeluaran Terakhir"},{default:a(()=>[s(F,null,{default:a(()=>[s(V,null,{default:a(()=>[e("tr",null,[s(f,null,{default:a(()=>[...t[15]||(t[15]=[n("Referensi",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[16]||(t[16]=[n("Tanggal",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[17]||(t[17]=[n("Kategori",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[18]||(t[18]=[n("Keterangan",-1)])]),_:1}),s(f,{class:"text-right"},{default:a(()=>[...t[19]||(t[19]=[n("Jumlah",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[20]||(t[20]=[n("Status",-1)])]),_:1})])]),_:1}),s(N,null,{default:a(()=>[(m(!0),p(_,null,A(d.recentExpenses,l=>(m(),p("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[s(u,{class:"font-mono text-primary-600"},{default:a(()=>[n(r(l.reference),1)]),_:2},1024),s(u,null,{default:a(()=>[n(r(w(l.date)),1)]),_:2},1024),s(u,null,{default:a(()=>[e("span",xt,r(E(l.category)),1)]),_:2},1024),s(u,{class:"max-w-[200px] truncate"},{default:a(()=>[n(r(l.description),1)]),_:2},1024),s(u,{class:"text-right font-mono text-red-600"},{default:a(()=>[n("-"+r(y(l.amount)),1)]),_:2},1024),s(u,null,{default:a(()=>[e("span",{class:I(["px-2 py-1 rounded-full text-xs font-semibold",l.status==="approved"?"bg-green-100 text-green-700":l.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"])},r(l.status==="approved"?"Disetujui":l.status==="rejected"?"Ditolak":"Pending"),3)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})])):h("",!0),s(U,{title:"Riwayat Kas Kecil"},{default:a(()=>[s(F,null,{default:a(()=>[s(V,null,{default:a(()=>[e("tr",null,[s(f,null,{default:a(()=>[...t[21]||(t[21]=[n("Referensi",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[22]||(t[22]=[n("Tanggal",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[23]||(t[23]=[n("Tipe",-1)])]),_:1}),s(f,{class:"text-right"},{default:a(()=>[...t[24]||(t[24]=[n("Jumlah",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[25]||(t[25]=[n("Status",-1)])]),_:1}),s(f,null,{default:a(()=>[...t[26]||(t[26]=[n("Keterangan",-1)])]),_:1})])]),_:1}),s(N,null,{default:a(()=>[d.pettyCashes.data.length>0?(m(!0),p(_,{key:0},A(d.pettyCashes.data,l=>(m(),p("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[s(u,{class:"font-mono font-bold text-primary-600"},{default:a(()=>[n(r(l.reference),1)]),_:2},1024),s(u,null,{default:a(()=>[n(r(w(l.date)),1)]),_:2},1024),s(u,null,{default:a(()=>[e("span",{class:I(["px-2 py-1 rounded-full text-xs font-semibold",l.type==="open"?"bg-green-100 text-green-700":l.type==="replenish"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"])},r(l.type==="open"?"Buka":l.type==="replenish"?"Isi Ulang":"Tutup"),3)]),_:2},1024),s(u,{class:"text-right font-mono text-green-600"},{default:a(()=>[n("+"+r(y(l.amount)),1)]),_:2},1024),s(u,null,{default:a(()=>[e("span",{class:I(["px-2 py-1 rounded-full text-xs font-semibold",l.status==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"])},r(l.status==="active"?"Aktif":"Ditutup"),3)]),_:2},1024),s(u,{class:"text-slate-600 max-w-[200px] truncate"},{default:a(()=>[n(r(l.description),1)]),_:2},1024)]))),128)):(m(),p("tr",gt,[s(u,{colspan:"6",class:"text-center py-8"},{default:a(()=>[...t[27]||(t[27]=[e("p",{class:"text-slate-500"},"Belum ada riwayat kas kecil",-1)])]),_:1})]))]),_:1})]),_:1})]),_:1}),(B=d.pettyCashes)!=null&&B.links&&d.pettyCashes.links.length>3?(m(),C(X,{key:3,links:d.pettyCashes.links},null,8,["links"])):h("",!0),s(L,{show:k.value,onClose:t[5]||(t[5]=l=>k.value=!1)},{default:a(()=>[e("form",{onSubmit:j(O,["prevent"]),class:"p-6"},[t[31]||(t[31]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Buka Periode Kas Kecil",-1)),e("div",kt,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[n(" Dana Awal "),e("span",{class:"text-red-500"},"*")],-1)),e("div",ct,[t[28]||(t[28]=e("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"},"Rp",-1)),e("input",{type:"text",value:P(o(x).amount),onInput:t[2]||(t[2]=l=>o(x).amount=K(l.target.value)),required:"",class:"w-full pl-12 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-right font-mono",placeholder:"0"},null,40,yt)])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Keterangan",-1)),R(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(x).description=l),rows:"2",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200",placeholder:"Pembukaan kas kecil..."},null,512),[[T,o(x).description]])])]),e("div",vt,[s(b,{type:"button",onClick:t[4]||(t[4]=l=>k.value=!1),label:"Batal",class:"bg-slate-100 text-slate-700"}),s(b,{type:"submit",icon:o(S),label:"Buka Periode",class:"bg-green-500 text-white",disabled:o(x).processing},null,8,["icon","disabled"])])],32)]),_:1},8,["show"]),s(L,{show:c.value,onClose:t[9]||(t[9]=l=>c.value=!1)},{default:a(()=>[e("form",{onSubmit:j(J,["prevent"]),class:"p-6"},[t[35]||(t[35]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Isi Ulang Kas Kecil",-1)),e("div",ht,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[n(" Jumlah Isi Ulang "),e("span",{class:"text-red-500"},"*")],-1)),e("div",wt,[t[32]||(t[32]=e("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"},"Rp",-1)),e("input",{type:"text",value:P(o(g).amount),onInput:t[6]||(t[6]=l=>o(g).amount=K(l.target.value)),required:"",class:"w-full pl-12 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-right font-mono",placeholder:"0"},null,40,Ct)])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Keterangan",-1)),R(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=l=>o(g).description=l),rows:"2",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200",placeholder:"Pengisian ulang kas kecil..."},null,512),[[T,o(g).description]])])]),e("div",_t,[s(b,{type:"button",onClick:t[8]||(t[8]=l=>c.value=!1),label:"Batal",class:"bg-slate-100 text-slate-700"}),s(b,{type:"submit",icon:o(M),label:"Isi Ulang",class:"bg-blue-500 text-white",disabled:o(g).processing},null,8,["icon","disabled"])])],32)]),_:1},8,["show"])]}),_:1}))}};export{zt as default};
