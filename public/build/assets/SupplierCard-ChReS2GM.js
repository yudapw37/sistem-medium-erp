import{a as r,c as u,w as y,b as m,u as b,Z as g,d as t,t as o,g as d,p,n as h,F as f}from"./app-CIYeQ-4j.js";import{I as _}from"./IconArrowLeft-D_cLVqwd.js";import{_ as k}from"./DashboardLayout-CDE7-Y8V.js";import{_ as w}from"./Button-CxuUSqWK.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconUsers-lhp4zDA0.js";import"./IconSun-B2kMHmLk.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";const v={class:"mb-6"},D={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},I={class:"text-sm text-slate-500 dark:text-slate-400"},B={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},S={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},A={class:"text-2xl font-bold font-mono text-slate-900 dark:text-white"},C={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},F={class:"text-2xl font-bold font-mono text-green-600"},L={class:"bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl p-6 text-white"},T={class:"text-2xl font-bold font-mono"},j={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},H={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},K={class:"max-h-[400px] overflow-y-auto"},N={class:"w-full"},P={class:"px-4 py-3"},$={class:"font-mono text-primary-600 font-bold"},O={class:"text-xs text-slate-400"},R={class:"px-4 py-3 text-right font-mono"},V={class:"px-4 py-3 text-center"},z=["href"],E={key:1,class:"text-green-600 text-xs"},J={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},Z={class:"max-h-[400px] overflow-y-auto"},q={class:"w-full"},G={class:"px-4 py-3"},M={class:"text-slate-700 dark:text-slate-300"},Q={class:"text-xs text-slate-400"},U={class:"px-4 py-3 font-mono text-xs text-slate-500"},W={class:"px-4 py-3 text-right font-mono text-green-600 font-bold"},X={key:1},it={__name:"SupplierCard",props:{supplier:Object,purchases:Array,payments:Array,summary:Object},setup(a){const i=l=>l?new Date(l).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",n=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l||0),x=(l,e)=>typeof window<"u"&&window.route?window.route(l,e):"#";return(l,e)=>(r(),u(k,null,{default:y(()=>[m(b(g),{title:`Kartu Hutang - ${a.supplier.name}`},null,8,["title"]),t("div",v,[t("div",D,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Kartu Hutang",-1)),t("p",I,o(a.supplier.name),1)]),m(w,{type:"link",icon:b(_),class:"bg-white border border-slate-200 text-slate-700",label:"Kembali",href:x("payables.index")},null,8,["icon","href"])])]),t("div",B,[t("div",S,[e[1]||(e[1]=t("p",{class:"text-sm text-slate-500 mb-1"},"Total Pembelian",-1)),t("p",A,o(n(a.summary.total_purchases)),1)]),t("div",C,[e[2]||(e[2]=t("p",{class:"text-sm text-slate-500 mb-1"},"Total Dibayar",-1)),t("p",F,o(n(a.summary.total_paid)),1)]),t("div",L,[e[3]||(e[3]=t("p",{class:"text-red-100 text-sm mb-1"},"Sisa Hutang",-1)),t("p",T,o(n(a.summary.total_remaining)),1)])]),t("div",j,[t("div",H,[e[5]||(e[5]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800"},[t("h3",{class:"font-bold text-slate-900 dark:text-white"},"Daftar Pembelian")],-1)),t("div",K,[t("table",N,[e[4]||(e[4]=t("thead",{class:"bg-slate-50 dark:bg-slate-800 sticky top-0"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-slate-600"},"Invoice"),t("th",{class:"px-4 py-2 text-right text-xs font-semibold text-slate-600"},"Total"),t("th",{class:"px-4 py-2 text-right text-xs font-semibold text-slate-600"},"Sisa"),t("th",{class:"px-4 py-2 text-center text-xs font-semibold text-slate-600"},"Aksi")])],-1)),t("tbody",null,[(r(!0),d(f,null,p(a.purchases,s=>(r(),d("tr",{key:s.id,class:"border-b border-slate-100 dark:border-slate-800"},[t("td",P,[t("p",$,o(s.invoice),1),t("p",O,o(i(s.created_at)),1)]),t("td",R,o(n(s.grand_total)),1),t("td",{class:h(["px-4 py-3 text-right font-mono font-bold",s.remaining>0?"text-red-600":"text-green-600"])},o(n(s.remaining)),3),t("td",V,[s.remaining>0?(r(),d("a",{key:0,href:x("payables.show",s.id),class:"text-primary-600 text-sm hover:underline"}," Bayar ",8,z)):(r(),d("span",E,"Lunas"))])]))),128))])])])]),t("div",J,[e[8]||(e[8]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800"},[t("h3",{class:"font-bold text-slate-900 dark:text-white"},"Riwayat Pembayaran")],-1)),t("div",Z,[t("table",q,[e[7]||(e[7]=t("thead",{class:"bg-slate-50 dark:bg-slate-800 sticky top-0"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-slate-600"},"Tanggal"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-slate-600"},"Invoice"),t("th",{class:"px-4 py-2 text-right text-xs font-semibold text-slate-600"},"Jumlah")])],-1)),t("tbody",null,[a.payments.length>0?(r(!0),d(f,{key:0},p(a.payments,s=>{var c;return r(),d("tr",{key:s.id,class:"border-b border-slate-100 dark:border-slate-800"},[t("td",G,[t("p",M,o(i(s.payment_date)),1),t("p",Q,o(s.reference),1)]),t("td",U,o((c=s.purchase)==null?void 0:c.invoice),1),t("td",W,"+"+o(n(s.amount)),1)])}),128)):(r(),d("tr",X,[...e[6]||(e[6]=[t("td",{colspan:"3",class:"px-4 py-8 text-center text-slate-500"},"Belum ada pembayaran",-1)])]))])])])])])]),_:1}))}};export{it as default};
