import{i as M,r as A,T as j,a as c,c as C,w as o,b as a,u as n,Z as S,d as t,e as i,g as x,h as v,p as E,t as u,n as T,F as z,f as D,k as P,m as U,O as F}from"./app-DA0EYa_6.js";import{k as O,c as G,_ as L}from"./DashboardLayout-DqHF1oae.js";import{I as X}from"./IconDeviceFloppy-C77V5VA5.js";import{I as Z}from"./IconPencilCog-DfUFd1Ei.js";import{I as q}from"./IconTrash-BZm3hFVP.js";import{I as H}from"./IconX-JXYWA-GE.js";import{_ as h}from"./Button-mcRGNCmf.js";import{_ as J}from"./Search-efVWyAAU.js";import{_ as K}from"./Table-CzIMA27R.js";import{_ as Q,a as W}from"./TableTbody-BBPwPiVX.js";import{_ as m,a as b}from"./TableTh-CVR3I-fd.js";import{_ as Y}from"./Pagination-B8BHcZ6z.js";import{_ as w}from"./Input-DvFyKFJk.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconSearch-hVNvfgeb.js";import"./IconChevronRight-QKrPJlsB.js";const ee={class:"mb-6"},te={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ae={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},se={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800"},ne={class:"p-6 border-b border-slate-100 dark:border-slate-800"},re={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},oe={class:"w-full sm:w-80"},le={key:0},ie={class:"font-medium text-slate-900 dark:text-white"},de={class:"text-sm text-slate-700 dark:text-slate-300"},ue={class:"text-sm font-mono text-slate-600 dark:text-slate-400"},ce={class:"flex justify-center gap-2"},me={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm"},be={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 w-full max-w-lg shadow-2xl overflow-hidden"},ke={class:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center"},fe={class:"text-xl font-bold text-slate-900 dark:text-white"},pe={class:"p-6 space-y-4"},ge={class:"flex items-center gap-2"},_e={class:"p-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3 bg-slate-50 dark:bg-slate-800/50"},xe=["disabled"],Fe={__name:"Index",props:{bankAccounts:Object},setup(d){const k=M(),f=A(!1),p=A(!1),s=j({id:null,bank_name:"",account_name:"",account_number:"",is_active:!0}),B=()=>{p.value=!1,s.reset(),f.value=!0},V=l=>{p.value=!0,s.id=l.id,s.bank_name=l.bank_name,s.account_name=l.account_name,s.account_number=l.account_number,s.is_active=!!l.is_active,f.value=!0},g=()=>{f.value=!1,s.reset()},N=()=>{p.value?s.put(_("bank-accounts.update",s.id),{onSuccess:()=>{k.success("Rekening berhasil diperbarui"),g()},onError:()=>k.error("Gagal memperbarui rekening")}):s.post(_("bank-accounts.store"),{onSuccess:()=>{k.success("Rekening berhasil ditambahkan"),g()},onError:()=>k.error("Gagal menambahkan rekening")})},I=l=>{confirm("Apakah Anda yakin ingin menghapus rekening ini?")&&F.delete(_("bank-accounts.destroy",l),{onSuccess:()=>k.success("Rekening berhasil dihapus")})},_=(l,e)=>typeof window<"u"&&window.route?window.route(l,e):"#";return(l,e)=>(c(),C(L,null,{default:o(()=>{var y;return[a(n(S),{title:"Daftar Rekening Bank"}),t("div",ee,[t("div",te,[t("div",null,[t("h1",ae,[a(n(O),{size:28,class:"text-primary-500"}),e[4]||(e[4]=i(" Daftar Rekening Bank ",-1))]),e[5]||(e[5]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Manajemen data rekening bank untuk transaksi. ",-1))]),a(h,{type:"button",icon:n(G),class:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/30",label:"Tambah Rekening",onClick:B},null,8,["icon"])])]),t("div",se,[t("div",ne,[t("div",re,[t("div",oe,[a(J,{url:_("bank-accounts.index"),placeholder:"Cari nama bank atau akun..."},null,8,["url"])])])]),a(K,null,{default:o(()=>[a(Q,null,{default:o(()=>[t("tr",null,[a(m,{class:"w-10"},{default:o(()=>[...e[6]||(e[6]=[i("No",-1)])]),_:1}),a(m,null,{default:o(()=>[...e[7]||(e[7]=[i("Nama Bank",-1)])]),_:1}),a(m,null,{default:o(()=>[...e[8]||(e[8]=[i("Nama Pemilik",-1)])]),_:1}),a(m,null,{default:o(()=>[...e[9]||(e[9]=[i("No. Rekening",-1)])]),_:1}),a(m,null,{default:o(()=>[...e[10]||(e[10]=[i("Status",-1)])]),_:1}),a(m,{class:"w-24 text-center"})])]),_:1}),a(W,null,{default:o(()=>[d.bankAccounts.data.length===0?(c(),x("tr",le,[...e[11]||(e[11]=[t("td",{colspan:"6",class:"py-12 text-center text-slate-500 italic"}," Belum ada data rekening. ",-1)])])):v("",!0),(c(!0),x(z,null,E(d.bankAccounts.data,(r,$)=>(c(),x("tr",{key:r.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[a(b,{class:"text-center"},{default:o(()=>[i(u(++$+(d.bankAccounts.current_page-1)*d.bankAccounts.per_page),1)]),_:2},1024),a(b,null,{default:o(()=>[t("span",ie,u(r.bank_name),1)]),_:2},1024),a(b,null,{default:o(()=>[t("span",de,u(r.account_name),1)]),_:2},1024),a(b,null,{default:o(()=>[t("span",ue,u(r.account_number),1)]),_:2},1024),a(b,null,{default:o(()=>[t("span",{class:T(["px-2 py-1 rounded-full text-[10px] font-bold uppercase",r.is_active?"bg-success-100 text-success-600 dark:bg-success-900/30 dark:text-success-400":"bg-danger-100 text-danger-600 dark:bg-danger-900/30 dark:text-danger-400"])},u(r.is_active?"Aktif":"Non-Aktif"),3)]),_:2},1024),a(b,null,{default:o(()=>[t("div",ce,[a(h,{type:"button",icon:n(Z),class:"border bg-warning-100 border-warning-200 text-warning-600 hover:bg-warning-200 dark:bg-warning-900/50 dark:border-warning-800 dark:text-warning-400",onClick:R=>V(r)},null,8,["icon","onClick"]),a(h,{type:"delete",icon:n(q),class:"border bg-danger-100 border-danger-200 text-danger-600 hover:bg-danger-200 dark:bg-danger-900/50 dark:border-danger-800 dark:text-danger-400",onClick:R=>I(r.id)},null,8,["icon","onClick"])])]),_:2},1024)]))),128))]),_:1})]),_:1})]),(y=d.bankAccounts)!=null&&y.links&&d.bankAccounts.links.length>3?(c(),C(Y,{key:0,links:d.bankAccounts.links},null,8,["links"])):v("",!0),f.value?(c(),x("div",me,[t("div",be,[t("div",ke,[t("h2",fe,u(p.value?"Edit Rekening":"Tambah Rekening Baru"),1),t("button",{onClick:g,class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"},[a(n(H),{size:24})])]),t("form",{onSubmit:D(N,["prevent"])},[t("div",pe,[a(w,{type:"text",label:"Nama Bank",placeholder:"Contoh: BCA, Mandiri, BRI",errors:n(s).errors.bank_name,modelValue:n(s).bank_name,"onUpdate:modelValue":e[0]||(e[0]=r=>n(s).bank_name=r)},null,8,["errors","modelValue"]),a(w,{type:"text",label:"Nama Pemilik",placeholder:"Nama sesuai buku tabungan",errors:n(s).errors.account_name,modelValue:n(s).account_name,"onUpdate:modelValue":e[1]||(e[1]=r=>n(s).account_name=r)},null,8,["errors","modelValue"]),a(w,{type:"text",label:"Nomor Rekening",placeholder:"Masukkan nomor rekening",errors:n(s).errors.account_number,modelValue:n(s).account_number,"onUpdate:modelValue":e[2]||(e[2]=r=>n(s).account_number=r)},null,8,["errors","modelValue"]),t("div",ge,[P(t("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[3]||(e[3]=r=>n(s).is_active=r),class:"w-5 h-5 rounded border-slate-300 text-primary-600 focus:ring-primary-500"},null,512),[[U,n(s).is_active]]),e[12]||(e[12]=t("label",{for:"is_active",class:"text-sm font-medium text-slate-700 dark:text-slate-300 cursor-pointer select-none"}," Status Aktif ",-1))])]),t("div",_e,[t("button",{type:"button",onClick:g,class:"px-5 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 font-medium transition-colors"}," Batal "),t("button",{type:"submit",disabled:n(s).processing,class:"px-5 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:opacity-50 inline-flex items-center gap-2"},[a(n(X),{size:18}),i(" "+u(n(s).processing?"Menyimpan...":"Simpan Perubahan"),1)],8,xe)])],32)])])):v("",!0)]}),_:1}))}};export{Fe as default};
