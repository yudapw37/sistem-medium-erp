import{a as o,c as p,w as l,b as a,u as x,Z as V,d as e,t as s,n as _,g,h as k,e as i,p as O,F as q}from"./app-DA0EYa_6.js";import{I as G}from"./IconArrowLeft-gRB0gwWT.js";import{I as S}from"./IconCheck--wdzxov0.js";import{I as B}from"./IconClock-DpLzPaIL.js";import{I as F}from"./IconX-JXYWA-GE.js";import{_ as P}from"./DashboardLayout-DqHF1oae.js";import{_ as R}from"./Button-mcRGNCmf.js";import{_ as E}from"./Table-CzIMA27R.js";import{_ as H}from"./TableCard-BYxyxo2i.js";import{_ as K,a as M}from"./TableTbody-BBPwPiVX.js";import{_ as b,a as m}from"./TableTh-CVR3I-fd.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";const Q={class:"mb-6"},X={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Z={class:"text-sm text-slate-500 dark:text-slate-400"},J={class:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6"},U={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},W={class:"space-y-3"},Y={class:"flex justify-between"},tt={class:"font-medium text-slate-900 dark:text-white"},et={class:"flex justify-between"},st={class:"text-slate-700 dark:text-slate-300"},at={class:"flex justify-between"},lt={class:"text-slate-700 dark:text-slate-300"},rt={class:"flex justify-between"},nt={class:"text-slate-700 dark:text-slate-300"},ot={class:"flex justify-between"},it={class:"text-slate-700 dark:text-slate-300"},dt={class:"flex justify-between"},ut={class:"uppercase font-semibold text-slate-700 dark:text-slate-300"},ct={class:"flex justify-between pt-2 border-t border-slate-200 dark:border-slate-700"},ft={class:"font-bold text-lg text-primary-600 dark:text-primary-400"},xt={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},mt={class:"space-y-4"},pt={class:"flex items-start gap-4"},gt={class:"flex-1"},bt={key:0,class:"text-sm text-slate-500"},wt={key:1,class:"text-sm text-slate-600 dark:text-slate-400 mt-1"},_t={class:"flex items-start gap-4"},yt={class:"flex-1"},kt={key:0,class:"text-sm text-slate-500"},ht={key:1,class:"text-sm text-slate-600 dark:text-slate-400 mt-1"},vt={class:"font-medium text-slate-900 dark:text-white"},jt={class:"bg-slate-50 dark:bg-slate-800/50"},Rt={__name:"Show",props:{sale:Object},setup(d){const v=d,c=n=>{var t;return(t=v.sale.approvals)==null?void 0:t.find(f=>f.type===n&&f.status!=="pending")},r=n=>{var f;const t=(f=v.sale.approvals)==null?void 0:f.find(y=>y.type===n);return t?t.status:"waiting"},j=n=>{switch(r(n)){case"approved":return"Approved";case"rejected":return"Rejected";case"pending":return"Menunggu";default:return"Belum"}},w=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n||0),h=n=>n?new Date(n).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",I=(n,t)=>typeof window<"u"&&window.route?window.route(n,t):"#";return(n,t)=>(o(),p(P,null,{default:l(()=>{var f,y,D,$,T,z,A;return[a(x(V),{title:"Detail Transaksi"}),e("div",Q,[e("div",X,[e("div",null,[t[0]||(t[0]=e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Detail Transaksi",-1)),e("p",Z,s(d.sale.invoice),1)]),a(R,{type:"link",icon:x(G),class:"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800",label:"Kembali",href:n.$page.url.includes("finance")?I("approvals.finance.index"):I("approvals.warehouse.index")},null,8,["icon","href"])])]),e("div",J,[e("div",U,[t[8]||(t[8]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Informasi Transaksi",-1)),e("div",W,[e("div",Y,[t[1]||(t[1]=e("span",{class:"text-slate-500"},"Invoice",-1)),e("span",tt,s(d.sale.invoice),1)]),e("div",et,[t[2]||(t[2]=e("span",{class:"text-slate-500"},"Tanggal",-1)),e("span",st,s(h(d.sale.created_at)),1)]),e("div",at,[t[3]||(t[3]=e("span",{class:"text-slate-500"},"Customer",-1)),e("span",lt,s(((f=d.sale.customer)==null?void 0:f.name)||"-"),1)]),e("div",rt,[t[4]||(t[4]=e("span",{class:"text-slate-500"},"Gudang",-1)),e("span",nt,s(((y=d.sale.warehouse)==null?void 0:y.name)||"-"),1)]),e("div",ot,[t[5]||(t[5]=e("span",{class:"text-slate-500"},"Dibuat Oleh",-1)),e("span",it,s(((D=d.sale.user)==null?void 0:D.name)||"-"),1)]),e("div",dt,[t[6]||(t[6]=e("span",{class:"text-slate-500"},"Pembayaran",-1)),e("span",ut,s(d.sale.payment_type),1)]),e("div",ct,[t[7]||(t[7]=e("span",{class:"text-slate-500 font-medium"},"Total",-1)),e("span",ft,s(w(d.sale.grand_total)),1)])])]),e("div",xt,[t[11]||(t[11]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"Status Approval",-1)),e("div",mt,[e("div",pt,[e("div",{class:_(["w-10 h-10 rounded-full flex items-center justify-center shrink-0",r("finance")==="approved"?"bg-green-100 text-green-600":r("finance")==="rejected"?"bg-red-100 text-red-600":r("finance")==="pending"?"bg-yellow-100 text-yellow-600":"bg-slate-100 text-slate-400"])},[r("finance")==="approved"?(o(),p(x(S),{key:0,size:20})):r("finance")==="rejected"?(o(),p(x(F),{key:1,size:20})):(o(),p(x(B),{key:2,size:20}))],2),e("div",gt,[t[9]||(t[9]=e("p",{class:"font-medium text-slate-900 dark:text-white"},"Finance",-1)),c("finance")?(o(),g("p",bt,s(($=c("finance").user)==null?void 0:$.name)+" - "+s(h(c("finance").approved_at)),1)):k("",!0),(T=c("finance"))!=null&&T.notes?(o(),g("p",wt,' "'+s(c("finance").notes)+'" ',1)):k("",!0)]),e("span",{class:_(["px-2 py-1 rounded-full text-xs font-semibold",r("finance")==="approved"?"bg-green-100 text-green-700":r("finance")==="rejected"?"bg-red-100 text-red-700":r("finance")==="pending"?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-500"])},s(j("finance")),3)]),e("div",_t,[e("div",{class:_(["w-10 h-10 rounded-full flex items-center justify-center shrink-0",r("warehouse")==="approved"?"bg-green-100 text-green-600":r("warehouse")==="rejected"?"bg-red-100 text-red-600":r("warehouse")==="pending"?"bg-yellow-100 text-yellow-600":"bg-slate-100 text-slate-400"])},[r("warehouse")==="approved"?(o(),p(x(S),{key:0,size:20})):r("warehouse")==="rejected"?(o(),p(x(F),{key:1,size:20})):(o(),p(x(B),{key:2,size:20}))],2),e("div",yt,[t[10]||(t[10]=e("p",{class:"font-medium text-slate-900 dark:text-white"},"Gudang",-1)),c("warehouse")?(o(),g("p",kt,s((z=c("warehouse").user)==null?void 0:z.name)+" - "+s(h(c("warehouse").approved_at)),1)):k("",!0),(A=c("warehouse"))!=null&&A.notes?(o(),g("p",ht,' "'+s(c("warehouse").notes)+'" ',1)):k("",!0)]),e("span",{class:_(["px-2 py-1 rounded-full text-xs font-semibold",r("warehouse")==="approved"?"bg-green-100 text-green-700":r("warehouse")==="rejected"?"bg-red-100 text-red-700":r("warehouse")==="pending"?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-500"])},s(j("warehouse")),3)])])])]),a(H,{title:"Detail Item"},{default:l(()=>[a(E,null,{default:l(()=>[a(K,null,{default:l(()=>[e("tr",null,[a(b,{class:"w-10"},{default:l(()=>[...t[12]||(t[12]=[i("No",-1)])]),_:1}),a(b,null,{default:l(()=>[...t[13]||(t[13]=[i("Produk",-1)])]),_:1}),a(b,{class:"text-right"},{default:l(()=>[...t[14]||(t[14]=[i("Harga",-1)])]),_:1}),a(b,{class:"text-center"},{default:l(()=>[...t[15]||(t[15]=[i("Qty",-1)])]),_:1}),a(b,{class:"text-right"},{default:l(()=>[...t[16]||(t[16]=[i("Diskon",-1)])]),_:1}),a(b,{class:"text-right"},{default:l(()=>[...t[17]||(t[17]=[i("Subtotal",-1)])]),_:1})])]),_:1}),a(M,null,{default:l(()=>[(o(!0),g(q,null,O(d.sale.details,(u,L)=>(o(),g("tr",{key:u.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[a(m,{class:"text-center"},{default:l(()=>[i(s(L+1),1)]),_:2},1024),a(m,null,{default:l(()=>{var C,N;return[e("span",vt,s(((C=u.product)==null?void 0:C.title)||((N=u.bundle)==null?void 0:N.name)||"-"),1)]}),_:2},1024),a(m,{class:"text-right"},{default:l(()=>[i(s(w(u.sell_price)),1)]),_:2},1024),a(m,{class:"text-center font-medium"},{default:l(()=>[i(s(u.qty),1)]),_:2},1024),a(m,{class:"text-right"},{default:l(()=>[e("span",{class:_(u.discount>0?"text-red-500":"text-slate-400")},s(u.discount>0?"-"+w(u.discount):"-"),3)]),_:2},1024),a(m,{class:"text-right font-bold"},{default:l(()=>[i(s(w(u.sell_price*u.qty-u.discount)),1)]),_:2},1024)]))),128)),e("tr",jt,[a(m,{colspan:"5",class:"text-right font-bold"},{default:l(()=>[...t[18]||(t[18]=[i("TOTAL",-1)])]),_:1}),a(m,{class:"text-right font-black text-primary-600 text-lg"},{default:l(()=>[i(s(w(d.sale.grand_total)),1)]),_:1})])]),_:1})]),_:1})]),_:1})]}),_:1}))}};export{Rt as default};
