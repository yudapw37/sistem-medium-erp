import{Q as y,i as v,T as w,a as p,c as V,w as c,b as o,u as e,Z as E,d as r,e as n,j as f,t as m,g as b,p as I,n as R,F as S,h as U,f as z}from"./app-DA0EYa_6.js";import{I as B}from"./IconArrowLeft-gRB0gwWT.js";import{I as N}from"./IconDeviceFloppy-C77V5VA5.js";import{I as P}from"./IconShield-DGrFEsvc.js";import{c as C}from"./createVueComponent-CUBUAVU4.js";import{_ as K}from"./DashboardLayout-DqHF1oae.js";import{_ as u}from"./Input-DvFyKFJk.js";import{_ as M}from"./Checkbox-BX7fLvPL.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";/**
 * @license @tabler/icons-vue v3.36.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T=C("outline","user-edit","UserEdit",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h3.5",key:"svg-1"}],["path",{d:"M18.42 15.61a2.1 2.1 0 0 1 2.97 2.97l-3.39 3.42h-3v-3l3.42 -3.39z",key:"svg-2"}]]);const j={class:"mb-6"},A={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},F={class:"text-sm text-slate-500 mt-1"},L={class:"max-w-2xl space-y-6"},$={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},Q={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2"},Z={class:"flex flex-wrap gap-4"},q={class:"text-sm font-medium text-slate-700 dark:text-slate-300 capitalize"},H={key:0,class:"text-xs text-danger-500 mt-3"},J={class:"flex justify-end gap-3"},O=["disabled"],pe={__name:"Edit",setup(W){const{roles:x,user:i,errors:d}=y().props,g=v(),t=w({name:i.name,email:i.email,password:"",password_confirmation:"",selectedRoles:i.roles.map(l=>l.name),_method:"PUT"}),h=l=>{let s=[...t.selectedRoles];s.includes(l.target.value)?s=s.filter(a=>a!==l.target.value):s.push(l.target.value),t.selectedRoles=s},k=()=>{t.post(route("users.update",i.id),{onSuccess:()=>g.success("Pengguna berhasil diperbarui"),onError:()=>g.error("Gagal memperbarui pengguna")})};return(l,s)=>(p(),V(K,null,{default:c(()=>[o(e(E),{title:"Edit Pengguna"}),r("div",j,[o(e(f),{href:l.route("users.index"),class:"inline-flex items-center gap-2 text-sm text-slate-500 hover:text-primary-600 mb-3"},{default:c(()=>[o(e(B),{size:16}),s[4]||(s[4]=n(" Kembali ke Pengguna ",-1))]),_:1},8,["href"]),r("h1",A,[o(e(T),{size:28,class:"text-primary-500"}),s[5]||(s[5]=n(" Edit Pengguna ",-1))]),r("p",F,m(e(i).name)+" â€¢ "+m(e(i).email),1)]),r("form",{onSubmit:z(k,["prevent"])},[r("div",L,[r("div",$,[s[6]||(s[6]=r("h3",{class:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4"}," Informasi Akun ",-1)),r("div",D,[o(u,{type:"text",label:"Nama Lengkap",placeholder:"Nama pengguna",modelValue:e(t).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(t).name=a),errors:e(d).name},null,8,["modelValue","errors"]),o(u,{type:"email",label:"Email",modelValue:e(t).email,"onUpdate:modelValue":s[1]||(s[1]=a=>e(t).email=a),errors:e(d).email,disabled:"",class:"opacity-60"},null,8,["modelValue","errors"]),o(u,{type:"password",label:"Kata Sandi Baru",placeholder:"Kosongkan jika tidak diubah",modelValue:e(t).password,"onUpdate:modelValue":s[2]||(s[2]=a=>e(t).password=a),errors:e(d).password},null,8,["modelValue","errors"]),o(u,{type:"password",label:"Konfirmasi Kata Sandi",placeholder:"Ulangi kata sandi baru",modelValue:e(t).password_confirmation,"onUpdate:modelValue":s[3]||(s[3]=a=>e(t).password_confirmation=a),errors:e(d).password_confirmation},null,8,["modelValue","errors"])])]),r("div",G,[r("h3",Q,[o(e(P),{size:16}),s[7]||(s[7]=n(" Akses Group ",-1))]),r("div",Z,[(p(!0),b(S,null,I(e(x),(a,_)=>(p(),b("label",{key:_,class:R(["flex items-center gap-2.5 px-4 py-3 rounded-xl border cursor-pointer transition-all",e(t).selectedRoles.includes(a.name)?"border-primary-500 bg-primary-50 dark:bg-primary-950/50":"border-slate-200 dark:border-slate-700 hover:border-primary-300"])},[o(M,{value:a.name,onChange:h,checked:e(t).selectedRoles.includes(a.name)},null,8,["value","checked"]),r("span",q,m(a.name),1)],2))),128))]),e(d).selectedRoles?(p(),b("p",H,m(e(d).selectedRoles),1)):U("",!0)]),r("div",J,[o(e(f),{href:l.route("users.index"),class:"px-5 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 font-medium transition-colors"},{default:c(()=>[...s[8]||(s[8]=[n(" Batal ",-1)])]),_:1},8,["href"]),r("button",{type:"submit",disabled:e(t).processing,class:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:opacity-50"},[o(e(N),{size:18}),n(" "+m(e(t).processing?"Menyimpan...":"Simpan Perubahan"),1)],8,O)])])],32)]),_:1}))}};export{pe as default};
