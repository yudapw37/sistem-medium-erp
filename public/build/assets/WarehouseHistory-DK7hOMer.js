import{r as A,a as x,c as C,w as a,b as e,u as $,Z as N,d as s,k as g,v as j,x as B,e as r,g as c,p as D,t as u,n as I,F as G,h as H,O}from"./app-DA0EYa_6.js";import{I as U}from"./IconUser-DDKj-MYF.js";import{_ as F}from"./DashboardLayout-DqHF1oae.js";import{_ as R}from"./Search-efVWyAAU.js";import{_ as T}from"./Table-CzIMA27R.js";import{_ as q}from"./TableCard-BYxyxo2i.js";import{_ as z,a as L}from"./TableTbody-BBPwPiVX.js";import{_ as m,a as n}from"./TableTh-CVR3I-fd.js";import{_ as M}from"./Pagination-B8BHcZ6z.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconSearch-hVNvfgeb.js";import"./IconChevronRight-QKrPJlsB.js";const E={class:"mb-4"},W={class:"flex flex-col sm:flex-row gap-4 items-center flex-wrap"},Z={class:"w-full sm:w-64"},J={class:"flex items-center gap-2"},K={class:"w-full sm:w-40"},P={class:"font-bold text-slate-900 dark:text-white"},Q={class:"flex items-center gap-2"},X=["title"],Y={key:1},gt={__name:"WarehouseHistory",props:{approvals:Object,filters:Object},setup(d){var b,k,y;const v=d,p=A({start_date:((b=v.filters)==null?void 0:b.start_date)||"",end_date:((k=v.filters)==null?void 0:k.end_date)||"",status:((y=v.filters)==null?void 0:y.status)||""}),_=()=>{var i;O.get(w("approvals.warehouse.history"),{q:(i=v.filters)==null?void 0:i.q,...p.value},{preserveState:!0})},S=i=>i?new Date(i).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",w=(i,t)=>typeof window<"u"&&window.route?window.route(i,t):"#";return(i,t)=>(x(),C(F,null,{default:a(()=>{var h;return[e($(N),{title:"History Gudang Approval"}),t[14]||(t[14]=s("div",{class:"mb-6"},[s("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},[s("div",null,[s("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"History Gudang Approval"),s("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Riwayat approval/reject oleh Gudang ")])])],-1)),s("div",E,[s("div",W,[s("div",Z,[e(R,{url:w("approvals.warehouse.history"),placeholder:"Cari No. Invoice..."},null,8,["url"])]),s("div",J,[g(s("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=l=>p.value.start_date=l),onChange:_,class:"h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},null,544),[[j,p.value.start_date]]),t[3]||(t[3]=s("span",{class:"text-slate-400"},"-",-1)),g(s("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=l=>p.value.end_date=l),onChange:_,class:"h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},null,544),[[j,p.value.end_date]])]),s("div",K,[g(s("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>p.value.status=l),onChange:_,class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},[...t[4]||(t[4]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"approved"},"Approved",-1),s("option",{value:"rejected"},"Rejected",-1)])],544),[[B,p.value.status]])])])]),e(q,{title:"History Approval"},{default:a(()=>[e(T,null,{default:a(()=>[e(z,null,{default:a(()=>[s("tr",null,[e(m,{class:"w-10"},{default:a(()=>[...t[5]||(t[5]=[r("No",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[6]||(t[6]=[r("Invoice",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[7]||(t[7]=[r("Customer",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[8]||(t[8]=[r("Gudang",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[9]||(t[9]=[r("Status",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[10]||(t[10]=[r("Approver",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[11]||(t[11]=[r("Tanggal",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[12]||(t[12]=[r("Catatan",-1)])]),_:1})])]),_:1}),e(L,null,{default:a(()=>[d.approvals.data.length>0?(x(!0),c(G,{key:0},D(d.approvals.data,(l,V)=>(x(),c("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[e(n,{class:"text-center"},{default:a(()=>[r(u(++V+(d.approvals.current_page-1)*d.approvals.per_page),1)]),_:2},1024),e(n,null,{default:a(()=>{var o;return[s("span",P,u(((o=l.sale)==null?void 0:o.invoice)||"-"),1)]}),_:2},1024),e(n,null,{default:a(()=>{var o,f;return[r(u(((f=(o=l.sale)==null?void 0:o.customer)==null?void 0:f.name)||"-"),1)]}),_:2},1024),e(n,null,{default:a(()=>{var o,f;return[r(u(((f=(o=l.sale)==null?void 0:o.warehouse)==null?void 0:f.name)||"-"),1)]}),_:2},1024),e(n,null,{default:a(()=>[s("span",{class:I(["px-2 py-1 rounded-full text-xs font-semibold",l.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},u(l.status==="approved"?"Approved":"Rejected"),3)]),_:2},1024),e(n,null,{default:a(()=>{var o;return[s("div",Q,[e($(U),{size:16,class:"text-slate-400"}),s("span",null,u(((o=l.user)==null?void 0:o.name)||"-"),1)])]}),_:2},1024),e(n,null,{default:a(()=>[r(u(S(l.approved_at)),1)]),_:2},1024),e(n,null,{default:a(()=>[s("span",{class:"text-sm text-slate-600 dark:text-slate-400 max-w-[150px] truncate block",title:l.notes},u(l.notes||"-"),9,X)]),_:2},1024)]))),128)):(x(),c("tr",Y,[e(n,{colspan:"8",class:"text-center py-12"},{default:a(()=>[...t[13]||(t[13]=[s("p",{class:"text-slate-500"},"Belum ada history approval",-1)])]),_:1})]))]),_:1})]),_:1})]),_:1}),(h=d.approvals)!=null&&h.links&&d.approvals.links.length>3?(x(),C(M,{key:0,links:d.approvals.links},null,8,["links"])):H("",!0)]}),_:1}))}};export{gt as default};
