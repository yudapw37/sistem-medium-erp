import{r as w,a as m,c as y,w as l,b as s,u as h,Z as j,d as n,k as N,x as q,e as i,g as A,p as z,F as L,O as b,z as a}from"./app-DA0EYa_6.js";import{I as O}from"./IconSun-9pmbsCzq.js";import{I as S}from"./IconChevronRight-QKrPJlsB.js";import{I as V}from"./IconEdit-CG94FACO.js";import{I as F}from"./IconPlus-CZBZv6OX.js";import{I as K}from"./IconTrash-BZm3hFVP.js";import{_ as P}from"./DashboardLayout-DqHF1oae.js";import{_ as R}from"./Button-mcRGNCmf.js";import{_ as H}from"./Search-efVWyAAU.js";import{_ as M}from"./Table-CzIMA27R.js";import{_ as U}from"./TableCard-BYxyxo2i.js";import{_ as Z,a as G}from"./TableTbody-BBPwPiVX.js";import{_ as u,a as r}from"./TableTh-CVR3I-fd.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconSearch-hVNvfgeb.js";const J={class:"mb-6"},Q={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},W={class:"mb-4"},X={class:"flex flex-col sm:flex-row gap-4 items-center"},Y={class:"w-full sm:w-64"},ee={class:"w-full sm:w-48"},te={key:1},we={__name:"Index",props:{accounts:Array,allAccounts:Array,filters:Object},setup(p){var k;const v=p,x=w(((k=v.filters)==null?void 0:k.type)||""),C=()=>{var e;b.get(d("accounts.index"),{q:(e=v.filters)==null?void 0:e.q,type:x.value},{preserveState:!0})},I=e=>{confirm("Hapus akun ini?")&&b.delete(d("accounts.destroy",e))},d=(e,t)=>typeof window<"u"&&window.route?window.route(e,t):"#",$=e=>({asset:"Aset",liability:"Kewajiban",equity:"Ekuitas",revenue:"Pendapatan",expense:"Beban"})[e]||e,T=e=>({asset:"bg-blue-100 text-blue-700",liability:"bg-red-100 text-red-700",equity:"bg-purple-100 text-purple-700",revenue:"bg-green-100 text-green-700",expense:"bg-orange-100 text-orange-700"})[e]||"bg-slate-100 text-slate-700",g={name:"AccountRow",props:{account:Object,level:Number},emits:["delete"],setup(e,{emit:t}){const o=w(!0),_=e.account.children&&e.account.children.length>0,B=()=>{o.value=!o.value},D=(c,f)=>typeof window<"u"&&window.route?window.route(c,f):"#";return()=>{const c=[];return c.push(a("tr",{key:e.account.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[a(r,{},()=>[a("span",{class:"font-mono font-bold text-slate-900 dark:text-white",style:{paddingLeft:`${e.level*20}px`}},[_?a("button",{onClick:B,class:"mr-1 text-slate-400 hover:text-slate-600"},[a(o.value?O:S,{size:16})]):a("span",{class:"inline-block w-5"}),e.account.code])]),a(r,{},()=>e.account.name),a(r,{},()=>a("span",{class:["px-2 py-1 rounded-full text-xs font-semibold",T(e.account.type)]},$(e.account.type))),a(r,{class:"text-center"},()=>e.account.level),a(r,{},()=>a("span",{class:e.account.is_active?"text-green-600":"text-red-600"},e.account.is_active?"Aktif":"Nonaktif")),a(r,{class:"text-center"},()=>a("div",{class:"flex items-center justify-center gap-1"},[a("button",{onClick:()=>b.visit(D("accounts.edit",e.account.id)),class:"p-1.5 rounded-lg hover:bg-amber-50 text-amber-600",title:"Edit"},[a(V,{size:18})]),a("button",{onClick:()=>t("delete",e.account.id),class:"p-1.5 rounded-lg hover:bg-red-50 text-red-600",title:"Hapus"},[a(K,{size:18})])]))])),_&&o.value&&e.account.children.forEach(f=>{c.push(a(g,{key:f.id,account:f,level:e.level+1,onDelete:E=>t("delete",E)}))}),c}}};return(e,t)=>(m(),y(P,null,{default:l(()=>[s(h(j),{title:"Chart of Accounts"}),n("div",J,[n("div",Q,[t[1]||(t[1]=n("div",null,[n("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Chart of Accounts"),n("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Daftar akun akuntansi perusahaan ")],-1)),s(R,{type:"link",icon:h(F),class:"bg-primary-500 hover:bg-primary-600 text-white",label:"Tambah Akun",href:d("accounts.create")},null,8,["icon","href"])])]),n("div",W,[n("div",X,[n("div",Y,[s(H,{url:d("accounts.index"),placeholder:"Cari kode/nama akun..."},null,8,["url"])]),n("div",ee,[N(n("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>x.value=o),onChange:C,class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},[...t[2]||(t[2]=[n("option",{value:""},"Semua Tipe",-1),n("option",{value:"asset"},"Aset",-1),n("option",{value:"liability"},"Kewajiban",-1),n("option",{value:"equity"},"Ekuitas",-1),n("option",{value:"revenue"},"Pendapatan",-1),n("option",{value:"expense"},"Beban",-1)])],544),[[q,x.value]])])])]),s(U,{title:"Daftar Akun"},{default:l(()=>[s(M,null,{default:l(()=>[s(Z,null,{default:l(()=>[n("tr",null,[s(u,null,{default:l(()=>[...t[3]||(t[3]=[i("Kode",-1)])]),_:1}),s(u,null,{default:l(()=>[...t[4]||(t[4]=[i("Nama Akun",-1)])]),_:1}),s(u,null,{default:l(()=>[...t[5]||(t[5]=[i("Tipe",-1)])]),_:1}),s(u,null,{default:l(()=>[...t[6]||(t[6]=[i("Level",-1)])]),_:1}),s(u,null,{default:l(()=>[...t[7]||(t[7]=[i("Status",-1)])]),_:1}),s(u,{class:"text-center"},{default:l(()=>[...t[8]||(t[8]=[i("Aksi",-1)])]),_:1})])]),_:1}),s(G,null,{default:l(()=>[p.accounts.length>0?(m(!0),A(L,{key:0},z(p.accounts,o=>(m(),y(g,{key:o.id,account:o,level:0,onDelete:I},null,8,["account"]))),128)):(m(),A("tr",te,[s(r,{colspan:"6",class:"text-center py-12"},{default:l(()=>[...t[9]||(t[9]=[n("p",{class:"text-slate-500"},"Belum ada akun",-1)])]),_:1})]))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{we as default};
