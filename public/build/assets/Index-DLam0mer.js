import{r as _,A as S,a as s,c as F,w as B,b as f,u as C,Z as V,d as t,k as h,v as A,x as N,g as a,p as n,t as d,F as i,h as p,O}from"./app-CIYeQ-4j.js";import{_ as j}from"./DashboardLayout-CDE7-Y8V.js";import{_ as D}from"./Pagination-DUsmzl5y.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconUsers-lhp4zDA0.js";import"./IconSun-B2kMHmLk.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";import"./IconChevronRight-CKLwVeXD.js";const K={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 mb-6"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},G=["value"],M={class:"flex items-end gap-2"},P={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},R={class:"overflow-x-auto"},U={class:"w-full"},$={class:"bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700"},E={class:"bg-slate-50/50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700"},I={class:"divide-y divide-slate-200 dark:divide-slate-700"},L={key:0},Z=["colspan"],q={class:"px-6 py-4 text-sm font-medium text-slate-900 dark:text-white"},z={class:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400"},H={class:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400"},J={class:"px-4 py-4 text-sm text-center text-slate-500 dark:text-slate-400 border-l border-slate-200 dark:border-slate-700"},Q={class:"px-4 py-4 text-sm text-center font-bold text-primary-600 dark:text-primary-400 border-r border-slate-200 dark:border-slate-700 bg-primary-50/20 dark:bg-primary-900/5"},W={class:"px-4 py-4 text-sm text-center text-slate-400 bg-primary-50 dark:bg-primary-950/30"},X={class:"px-4 py-4 text-sm text-center font-bold text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900/50"},Y={key:0,class:"px-6 py-4 border-t border-slate-200 dark:border-slate-700"},pt={__name:"Index",props:{products:Object,warehouses:Array,categories:Array,filters:Object},setup(l){var u,m;const b=l,o=_({search:((u=b.filters)==null?void 0:u.search)||"",category_id:((m=b.filters)==null?void 0:m.category_id)||""}),v=S(()=>o.value.search||o.value.category_id),c=()=>{O.get(route("reports.warehouse-stock"),o.value,{preserveState:!0,preserveScroll:!0})},w=()=>{o.value={search:"",category_id:""},c()};return(tt,e)=>(s(),F(j,null,{default:B(()=>[f(C(V),{title:"Stok per Gudang"}),e[13]||(e[13]=t("div",{class:"mb-6"},[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Stok per Gudang"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Ringkasan stok produk di setiap gudang. ")])])],-1)),t("div",K,[t("div",T,[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Cari Produk ",-1)),h(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.search=r),type:"text",placeholder:"Nama atau barcode...",class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[A,o.value.search]])]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Kategori ",-1)),h(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.category_id=r),class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[e[3]||(e[3]=t("option",{value:""},"Semua Kategori",-1)),(s(!0),a(i,null,n(l.categories,r=>(s(),a("option",{key:r.id,value:r.id},d(r.name),9,G))),128))],512),[[N,o.value.category_id]])]),t("div",M,[t("button",{onClick:c,class:"flex-1 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-medium transition-colors"}," Filter "),v.value?(s(),a("button",{key:0,onClick:w,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors"}," Reset ")):p("",!0)])])]),t("div",P,[t("div",R,[t("table",U,[t("thead",$,[t("tr",null,[e[5]||(e[5]=t("th",{rowspan:"2",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider"}," Produk ",-1)),e[6]||(e[6]=t("th",{rowspan:"2",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider"}," Barcode ",-1)),e[7]||(e[7]=t("th",{rowspan:"2",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider"}," Kategori ",-1)),(s(!0),a(i,null,n(l.warehouses,r=>(s(),a("th",{key:r.id,colspan:"2",class:"px-6 py-2 text-center text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider border-x border-slate-200 dark:border-slate-700"},d(r.name),1))),128)),e[8]||(e[8]=t("th",{colspan:"2",class:"px-6 py-2 text-center text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider bg-primary-50 dark:bg-primary-950/30"}," Total ",-1))]),t("tr",E,[(s(!0),a(i,null,n(l.warehouses,r=>(s(),a(i,{key:"sub-"+r.id},[e[9]||(e[9]=t("th",{class:"px-3 py-2 text-center text-[10px] font-medium text-slate-500 uppercase tracking-tighter border-l border-slate-200 dark:border-slate-700"}," Sistem ",-1)),e[10]||(e[10]=t("th",{class:"px-3 py-2 text-center text-[10px] font-medium text-slate-500 uppercase tracking-tighter border-r border-slate-200 dark:border-slate-700 bg-primary-50/30 dark:bg-primary-900/10"}," Fisik ",-1))],64))),128)),e[11]||(e[11]=t("th",{class:"px-3 py-2 text-center text-[10px] font-medium text-primary-600 uppercase tracking-tighter bg-primary-50 dark:bg-primary-950/30"}," S ",-1)),e[12]||(e[12]=t("th",{class:"px-3 py-2 text-center text-[10px] font-medium text-primary-600 uppercase tracking-tighter bg-primary-100 dark:bg-primary-900/50"}," F ",-1))])]),t("tbody",I,[l.products.data.length===0?(s(),a("tr",L,[t("td",{colspan:3+l.warehouses.length*2+2,class:"px-6 py-12 text-center text-slate-500 dark:text-slate-400"}," Tidak ada data produk. ",8,Z)])):p("",!0),(s(!0),a(i,null,n(l.products.data,r=>{var k;return s(),a("tr",{key:r.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",q,d(r.title),1),t("td",z,d(r.barcode||"-"),1),t("td",H,d(((k=r.category)==null?void 0:k.name)||"-"),1),(s(!0),a(i,null,n(l.warehouses,x=>{var g,y;return s(),a(i,{key:r.id+"-"+x.id},[t("td",J,d(((g=r.warehouse_stocks[x.id])==null?void 0:g.stock)||0),1),t("td",Q,d(((y=r.warehouse_stocks[x.id])==null?void 0:y.stock_fix)||0),1)],64)}),128)),t("td",W,d(r.total_stock),1),t("td",X,d(r.total_stock_fix),1)])}),128))])])]),l.products.data.length>0?(s(),a("div",Y,[f(D,{links:l.products.links},null,8,["links"])])):p("",!0)])]),_:1}))}};export{pt as default};
