import{Q as D,i as A,T,E as $,a as u,c as E,w as L,b as l,u as e,Z as O,d as a,e as i,k as Q,x as X,g as b,p as Z,t as m,F as h,h as q,n as p,f as H}from"./app-DA0EYa_6.js";import{c as J}from"./createVueComponent-CUBUAVU4.js";import{b as K,c as R}from"./IconSun-9pmbsCzq.js";import{I as W}from"./IconDeviceFloppy-C77V5VA5.js";import{_ as Y}from"./DashboardLayout-DqHF1oae.js";import{_ as x}from"./Input-DvFyKFJk.js";import{_ as c}from"./Checkbox-BX7fLvPL.js";import"./IconUsers-CzMPbSiM.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";/**
 * @license @tabler/icons-vue v3.36.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var F=J("outline","brand-stripe","BrandStripe",[["path",{d:"M11.453 8.056c0 -.623 .518 -.979 1.442 -.979c1.69 0 3.41 .343 4.605 .923l.5 -4c-.948 -.449 -2.82 -1 -5.5 -1c-1.895 0 -3.373 .087 -4.5 1c-1.172 .956 -2 2.33 -2 4c0 3.03 1.958 4.906 5 6c1.961 .69 3 .743 3 1.5c0 .735 -.851 1.5 -2 1.5c-1.423 0 -3.963 -.609 -5.5 -1.5l-.5 4c1.321 .734 3.474 1.5 6 1.5c2 0 3.957 -.468 5.084 -1.36c1.263 -.979 1.916 -2.268 1.916 -4.14c0 -3.096 -1.915 -4.547 -5 -5.637c-1.646 -.605 -2.544 -1.07 -2.544 -1.807z",key:"svg-0"}]]);const ee={class:"mb-6"},te={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},se={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},ae={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2"},re=["value","disabled"],le={key:0,class:"text-xs text-danger-500 mt-1"},de={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},ne={class:"flex items-center justify-between mb-4"},ie={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2"},oe={class:"grid gap-4 md:grid-cols-2"},me={class:"flex items-center gap-2 cursor-pointer"},ue={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},pe={class:"flex items-center justify-between mb-4"},xe={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2"},ce={class:"grid gap-4 md:grid-cols-2"},be={class:"flex items-center gap-2 cursor-pointer"},_e={class:"flex justify-end"},fe=["disabled"],Ce={__name:"Payment",props:{setting:Object,supportedGateways:{type:Array,default:()=>[]}},setup(_){var k,g,v,V,S,w,M,P,U;const n=_,{flash:N,errors:o}=D().props,f=A(),s=T({default_gateway:((k=n.setting)==null?void 0:k.default_gateway)??"cash",midtrans_enabled:((g=n.setting)==null?void 0:g.midtrans_enabled)??!1,midtrans_server_key:((v=n.setting)==null?void 0:v.midtrans_server_key)??"",midtrans_client_key:((V=n.setting)==null?void 0:V.midtrans_client_key)??"",midtrans_production:((S=n.setting)==null?void 0:S.midtrans_production)??!1,xendit_enabled:((w=n.setting)==null?void 0:w.xendit_enabled)??!1,xendit_secret_key:((M=n.setting)==null?void 0:M.xendit_secret_key)??"",xendit_public_key:((P=n.setting)==null?void 0:P.xendit_public_key)??"",xendit_production:((U=n.setting)==null?void 0:U.xendit_production)??!1});$(()=>N,d=>{d!=null&&d.success&&f.success(d.success),d!=null&&d.error&&f.error(d.error)},{deep:!0});const y=d=>d==="cash"?!0:d==="midtrans"?s.midtrans_enabled:d==="xendit"?s.xendit_enabled:!1,j=()=>{s.put(route("settings.payments.update"),{preserveScroll:!0})};return(d,t)=>(u(),E(Y,null,{default:L(()=>{var B,C,z,G,I;return[l(e(O),{title:"Pengaturan Payment"}),a("div",ee,[a("h1",te,[l(e(K),{size:28,class:"text-primary-500"}),t[9]||(t[9]=i(" Pengaturan Payment Gateway ",-1))]),t[10]||(t[10]=a("p",{class:"text-sm text-slate-500 dark:text-slate-400 mt-1"}," Konfigurasi metode pembayaran dan gateway ",-1))]),a("form",{onSubmit:H(j,["prevent"]),class:"max-w-3xl space-y-6"},[a("div",se,[a("h3",ae,[l(e(R),{size:18}),t[11]||(t[11]=i(" Gateway Default ",-1))]),t[13]||(t[13]=a("p",{class:"text-sm text-slate-500 dark:text-slate-400 mb-4"}," Gateway pembayaran default yang digunakan kasir saat membuka halaman transaksi. ",-1)),a("div",null,[t[12]||(t[12]=a("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Pilih Gateway ",-1)),Q(a("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).default_gateway=r),class:"w-full h-11 px-4 text-sm rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"},[(u(!0),b(h,null,Z(_.supportedGateways,r=>(u(),b("option",{key:r.value,value:r.value,disabled:!y(r.value)},m(r.label)+m(y(r.value)?"":" (nonaktif)"),9,re))),128))],512),[[X,e(s).default_gateway]]),(B=e(o))!=null&&B.default_gateway?(u(),b("small",le,m(e(o).default_gateway),1)):q("",!0)])]),a("div",de,[a("div",ne,[a("h3",ie,[l(e(F),{size:18}),t[14]||(t[14]=i(" Midtrans Snap ",-1))]),a("label",{class:p(["flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium cursor-pointer transition-all",e(s).midtrans_enabled?"bg-success-100 dark:bg-success-900/50 text-success-700 dark:text-success-400":"bg-slate-100 dark:bg-slate-800 text-slate-500"])},[l(c,{modelValue:e(s).midtrans_enabled,"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).midtrans_enabled=r)},null,8,["modelValue"]),i(" "+m(e(s).midtrans_enabled?"Aktif":"Nonaktif"),1)],2)]),a("div",{class:p(["space-y-4",e(s).midtrans_enabled?"":"opacity-50 pointer-events-none"])},[a("div",oe,[l(x,{label:"Server Key",type:"text",modelValue:e(s).midtrans_server_key,"onUpdate:modelValue":t[2]||(t[2]=r=>e(s).midtrans_server_key=r),errors:(C=e(o))==null?void 0:C.midtrans_server_key,placeholder:"SB-Mid-server-xxx"},null,8,["modelValue","errors"]),l(x,{label:"Client Key",type:"text",modelValue:e(s).midtrans_client_key,"onUpdate:modelValue":t[3]||(t[3]=r=>e(s).midtrans_client_key=r),errors:(z=e(o))==null?void 0:z.midtrans_client_key,placeholder:"SB-Mid-client-xxx"},null,8,["modelValue","errors"])]),a("label",me,[l(c,{modelValue:e(s).midtrans_production,"onUpdate:modelValue":t[4]||(t[4]=r=>e(s).midtrans_production=r)},null,8,["modelValue"]),t[15]||(t[15]=a("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Mode Produksi",-1))])],2)]),a("div",ue,[a("div",pe,[a("h3",xe,[l(e(K),{size:18}),t[16]||(t[16]=i(" Xendit Invoice ",-1))]),a("label",{class:p(["flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium cursor-pointer transition-all",e(s).xendit_enabled?"bg-success-100 dark:bg-success-900/50 text-success-700 dark:text-success-400":"bg-slate-100 dark:bg-slate-800 text-slate-500"])},[l(c,{modelValue:e(s).xendit_enabled,"onUpdate:modelValue":t[5]||(t[5]=r=>e(s).xendit_enabled=r)},null,8,["modelValue"]),i(" "+m(e(s).xendit_enabled?"Aktif":"Nonaktif"),1)],2)]),a("div",{class:p(["space-y-4",e(s).xendit_enabled?"":"opacity-50 pointer-events-none"])},[a("div",ce,[l(x,{label:"Secret Key",type:"text",modelValue:e(s).xendit_secret_key,"onUpdate:modelValue":t[6]||(t[6]=r=>e(s).xendit_secret_key=r),errors:(G=e(o))==null?void 0:G.xendit_secret_key,placeholder:"xnd_development_xxx"},null,8,["modelValue","errors"]),l(x,{label:"Public Key",type:"text",modelValue:e(s).xendit_public_key,"onUpdate:modelValue":t[7]||(t[7]=r=>e(s).xendit_public_key=r),errors:(I=e(o))==null?void 0:I.xendit_public_key,placeholder:"xnd_public_development_xxx"},null,8,["modelValue","errors"])]),a("label",be,[l(c,{modelValue:e(s).xendit_production,"onUpdate:modelValue":t[8]||(t[8]=r=>e(s).xendit_production=r)},null,8,["modelValue"]),t[17]||(t[17]=a("span",{class:"text-sm text-slate-600 dark:text-slate-400"},"Mode Produksi",-1))])],2)]),a("div",_e,[a("button",{type:"submit",disabled:e(s).processing,class:"inline-flex items-center gap-2 px-6 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:opacity-50"},[l(e(W),{size:18}),i(" "+m(e(s).processing?"Menyimpan...":"Simpan Konfigurasi"),1)],8,fe)])],32)]}),_:1}))}};export{Ce as default};
