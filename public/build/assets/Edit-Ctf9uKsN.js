import{T as S,A as T,a as n,c as I,w as N,b as p,u as s,Z as j,d as t,t as o,f as q,e as c,k as m,v,g as d,h as b,x as h,p as w,F as y}from"./app-DA0EYa_6.js";import{I as E}from"./IconArrowLeft-gRB0gwWT.js";import{I as M}from"./IconCheck--wdzxov0.js";import{_ as P}from"./DashboardLayout-DqHF1oae.js";import{_}from"./Button-mcRGNCmf.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";const U={class:"mb-6"},C={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},D={class:"text-2xl font-bold text-slate-900 dark:text-white"},F={class:"text-sm text-slate-500 dark:text-slate-400"},L={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R=["value"],$={key:0,class:"text-red-500 text-sm mt-1"},J=["value"],Z={key:0,class:"text-red-500 text-sm mt-1"},z={class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},G=["value"],H={key:0,class:"text-red-500 text-sm mt-1"},Q={class:"relative"},W=["value"],X={key:0,class:"text-red-500 text-sm mt-1"},Y={class:"md:col-span-2"},tt={class:"flex justify-end mt-8 pt-6 border-t border-slate-200 dark:border-slate-700"},mt={__name:"Edit",props:{transaction:Object,cashAccounts:Array,accounts:Array},setup(i){var f,g;const u=i,a=S({date:((f=u.transaction.date)==null?void 0:f.split("T")[0])||"",cash_account_id:u.transaction.cash_account_id,account_id:u.transaction.account_id,amount:((g=u.transaction.amount)==null?void 0:g.toString().replace(".00",""))||"",description:u.transaction.description||""}),x=l=>l?l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",A=T(()=>x(a.amount)),K=l=>{let e=l.target.value.replace(/\./g,"").replace(/[^0-9]/g,"");a.amount=e,l.target.value=x(e)},B=l=>{l.target.value=x(a.amount)},V=()=>{a.put(k("cash-transactions.update",u.transaction.id))},k=(l,e)=>typeof window<"u"&&window.route?window.route(l,e):"#";return(l,e)=>(n(),I(P,null,{default:N(()=>[p(s(j),{title:"Edit Transaksi Kas"}),t("div",U,[t("div",C,[t("div",null,[t("h1",D," Edit "+o(i.transaction.type==="in"?"Kas Masuk":"Kas Keluar"),1),t("p",F,o(i.transaction.reference),1)]),p(_,{type:"link",icon:s(E),class:"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50",label:"Kembali",href:k("cash-transactions.index")},null,8,["icon","href"])])]),t("div",L,[t("form",{onSubmit:q(V,["prevent"])},[t("div",O,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," No. Referensi ",-1)),t("input",{type:"text",value:i.transaction.reference,disabled:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 font-mono"},null,8,R)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[c(" Tanggal "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=r=>s(a).date=r),required:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200"},null,512),[[v,s(a).date]]),s(a).errors.date?(n(),d("p",$,o(s(a).errors.date),1)):b("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[c(" Akun Kas/Bank "),t("span",{class:"text-red-500"},"*")],-1)),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(a).cash_account_id=r),required:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200"},[e[6]||(e[6]=t("option",{value:""},"-- Pilih Akun Kas --",-1)),(n(!0),d(y,null,w(i.cashAccounts,r=>(n(),d("option",{key:r.id,value:r.id},o(r.code)+" - "+o(r.name),9,J))),128))],512),[[h,s(a).cash_account_id]]),s(a).errors.cash_account_id?(n(),d("p",Z,o(s(a).errors.cash_account_id),1)):b("",!0)]),t("div",null,[t("label",z,[c(" Akun "+o(i.transaction.type==="in"?"Sumber Dana":"Tujuan Pembayaran")+" ",1),e[8]||(e[8]=t("span",{class:"text-red-500"},"*",-1))]),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(a).account_id=r),required:"",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200"},[e[9]||(e[9]=t("option",{value:""},"-- Pilih Akun --",-1)),(n(!0),d(y,null,w(i.accounts,r=>(n(),d("option",{key:r.id,value:r.id},o(r.code)+" - "+o(r.name),9,G))),128))],512),[[h,s(a).account_id]]),s(a).errors.account_id?(n(),d("p",H,o(s(a).errors.account_id),1)):b("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},[c(" Jumlah "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Q,[e[10]||(e[10]=t("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 font-medium"},"Rp",-1)),t("input",{type:"text",value:A.value,onInput:K,onBlur:B,required:"",class:"w-full pl-12 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-right font-mono",placeholder:"0"},null,40,W)]),s(a).errors.amount?(n(),d("p",X,o(s(a).errors.amount),1)):b("",!0)]),t("div",Y,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Keterangan ",-1)),m(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>s(a).description=r),rows:"3",class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200",placeholder:"Keterangan transaksi..."},null,512),[[v,s(a).description]])])]),t("div",tt,[p(_,{type:"submit",icon:s(M),label:"Simpan Perubahan",class:"bg-primary-500 hover:bg-primary-600 text-white",disabled:s(a).processing},null,8,["icon","disabled"])])],32)])]),_:1}))}};export{mt as default};
