import{a as d,c as _,w as a,b as e,u as r,Z as C,d as s,e as i,g as x,p as $,t as p,n as D,O as g,h as b,F as P}from"./app-CIYeQ-4j.js";import{a as F}from"./IconSun-B2kMHmLk.js";import{I as B}from"./IconCheck-WfpMGL5V.js";import{c as h,j as N,_ as E}from"./DashboardLayout-CDE7-Y8V.js";import{I as j}from"./IconDatabaseOff-MG7eloAg.js";import{I as O}from"./IconEdit-CjjI1lSj.js";import{I as S}from"./IconEye-0DdC_4Hy.js";import{I as T}from"./IconFileSpreadsheet-V28pHaNr.js";import{I as V}from"./IconFileTypePdf-X8ycIWT_.js";import{I as A}from"./IconTrash-CUcDdroG.js";import{_ as w}from"./Button-CxuUSqWK.js";import{_ as L}from"./Search-NBeUwUBy.js";import{_ as R}from"./Table-W38pwiux.js";import{_ as G}from"./TableCard-DWxSJUUQ.js";import{_ as H,a as W}from"./TableTbody-B6-z0LtQ.js";import{_ as m,a as c}from"./TableTh-C_S67pHj.js";import{_ as Z}from"./Pagination-DUsmzl5y.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconUsers-lhp4zDA0.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";import"./IconSearch-_c1o4uNe.js";import"./IconChevronRight-CKLwVeXD.js";const q={class:"mb-6"},J={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},K={class:"flex gap-2"},M=["href"],Q=["href"],U={class:"mb-4"},X={class:"w-full sm:w-80"},Y={class:"font-bold text-slate-900 dark:text-white"},ee={class:"text-slate-600 dark:text-slate-400"},te={class:"flex items-center gap-2"},se={class:"text-slate-800 dark:text-slate-200"},ae={class:"flex items-center gap-2"},le={class:"text-slate-600 dark:text-slate-400"},re={class:"flex items-center justify-center gap-2"},ie=["onClick"],ne=["onClick"],oe=["onClick"],de=["onClick"],ue={key:1,class:"flex flex-col items-center justify-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800"},me={class:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4"},Se={__name:"Index",props:{purchases:Object},setup(f){const y=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),n=(u,t)=>typeof window<"u"&&window.route?window.route(u,t):"#",v=u=>{confirm("Finalize purchase? Stock will be updated and purchase will be locked.")&&g.post(n("purchases.finalize",u))},I=u=>{confirm("Delete this draft purchase?")&&g.delete(n("purchases.destroy",u))};return(u,t)=>(d(),_(E,null,{default:a(()=>{var k;return[e(r(C),{title:"Pembelian (Purchasing)"}),s("div",q,[s("div",J,[t[2]||(t[2]=s("div",null,[s("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Pembelian"),s("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Riwayat pembelian stok dari supplier ")],-1)),s("div",K,[s("a",{href:n("purchases.export.excel"),class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-green-500 hover:bg-green-600 text-white shadow-lg shadow-green-500/30 font-medium transition-all"},[e(r(T),{size:20}),t[0]||(t[0]=s("span",null,"Export Excel",-1))],8,M),s("a",{href:n("purchases.export.pdf"),target:"_blank",class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 font-medium transition-all"},[e(r(V),{size:20}),t[1]||(t[1]=s("span",null,"Export PDF",-1))],8,Q),e(w,{type:"link",icon:r(h),class:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/30",label:"Pembelian Baru",href:n("purchases.create")},null,8,["icon","href"])])])]),s("div",U,[s("div",X,[e(L,{url:n("purchases.index"),placeholder:"Cari No. PO..."},null,8,["url"])])]),f.purchases.data.length>0?(d(),_(G,{key:0,title:"Riwayat Pembelian"},{default:a(()=>[e(R,null,{default:a(()=>[e(H,null,{default:a(()=>[s("tr",null,[e(m,{class:"w-10"},{default:a(()=>[...t[3]||(t[3]=[i("No",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[4]||(t[4]=[i("No. PO",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[5]||(t[5]=[i("Tanggal",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[6]||(t[6]=[i("Supplier",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[7]||(t[7]=[i("Gudang",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[8]||(t[8]=[i("Status",-1)])]),_:1}),e(m,{class:"text-right"},{default:a(()=>[...t[9]||(t[9]=[i("Total",-1)])]),_:1}),e(m,{class:"text-center"},{default:a(()=>[...t[10]||(t[10]=[i("Aksi",-1)])]),_:1})])]),_:1}),e(W,null,{default:a(()=>[(d(!0),x(P,null,$(f.purchases.data,(l,z)=>(d(),x("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[e(c,{class:"text-center"},{default:a(()=>[i(p(++z+(f.purchases.current_page-1)*f.purchases.per_page),1)]),_:2},1024),e(c,null,{default:a(()=>[s("span",Y,p(l.invoice),1)]),_:2},1024),e(c,null,{default:a(()=>[s("span",ee,p(new Date(l.created_at).toLocaleString("id-ID")),1)]),_:2},1024),e(c,null,{default:a(()=>{var o;return[s("div",te,[e(r(N),{size:16,class:"text-slate-400"}),s("span",se,p(((o=l.supplier)==null?void 0:o.name)||"-"),1)])]}),_:2},1024),e(c,null,{default:a(()=>{var o;return[s("div",ae,[e(r(F),{size:16,class:"text-slate-400"}),s("span",le,p(((o=l.warehouse)==null?void 0:o.name)||"-"),1)])]}),_:2},1024),e(c,null,{default:a(()=>[s("span",{class:D(["px-2 py-1 rounded-full text-xs font-semibold",l.status==="finalized"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},p(l.status==="finalized"?"Finalized":"Draft"),3)]),_:2},1024),e(c,{class:"text-right text-slate-900 dark:text-white font-bold"},{default:a(()=>[i(p(y(l.grand_total)),1)]),_:2},1024),e(c,null,{default:a(()=>[s("div",re,[s("button",{onClick:o=>r(g).visit(n("purchases.show",l.id)),class:"p-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors",title:"Detail"},[e(r(S),{size:18})],8,ie),l.status==="draft"?(d(),x("button",{key:0,onClick:o=>r(g).visit(n("purchases.edit",l.id)),class:"p-1.5 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400 transition-colors",title:"Edit"},[e(r(O),{size:18})],8,ne)):b("",!0),l.status==="draft"?(d(),x("button",{key:1,onClick:o=>v(l.id),class:"p-1.5 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/30 text-green-600 dark:text-green-400 transition-colors",title:"Finalize"},[e(r(B),{size:18})],8,oe)):b("",!0),l.status==="draft"?(d(),x("button",{key:2,onClick:o=>I(l.id),class:"p-1.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",title:"Hapus"},[e(r(A),{size:18})],8,de)):b("",!0)])]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})):(d(),x("div",ue,[s("div",me,[e(r(j),{size:32,class:"text-slate-400","stroke-width":1.5})]),t[11]||(t[11]=s("h3",{class:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-1"}," Belum Ada Pembelian ",-1)),t[12]||(t[12]=s("p",{class:"text-sm text-slate-500 dark:text-slate-400 mb-4"}," Lakukan pembelian stok pertama Anda. ",-1)),e(w,{type:"link",icon:r(h),class:"bg-primary-500 hover:bg-primary-600 text-white",label:"Pembelian Baru",href:n("purchases.create")},null,8,["icon","href"])])),(k=f.purchases)!=null&&k.links&&f.purchases.links.length>3?(d(),_(Z,{key:2,links:f.purchases.links},null,8,["links"])):b("",!0)]}),_:1}))}};export{Se as default};
