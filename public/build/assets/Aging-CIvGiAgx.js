import{a as l,c as v,w as k,b as u,u as f,Z as D,d as t,t as s,g as n,p as c,n as g,F as b,h as B}from"./app-CIYeQ-4j.js";import{I as C}from"./IconArrowLeft-D_cLVqwd.js";import{_ as I}from"./DashboardLayout-CDE7-Y8V.js";import{_ as A}from"./Button-CxuUSqWK.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconUsers-lhp4zDA0.js";import"./IconSun-B2kMHmLk.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";const N={class:"mb-6"},P={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},F={class:"bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl p-6 text-white mb-6"},R={class:"text-3xl font-bold font-mono"},j={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},L={class:"text-sm font-semibold text-slate-500 mb-1"},S={class:"text-xs text-slate-400 mt-1"},V={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},O={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center"},T={class:"font-bold text-slate-900 dark:text-white"},$={class:"w-full"},z={class:"px-4 py-3 font-mono text-primary-600 font-bold"},E={class:"px-4 py-3 text-slate-700 dark:text-slate-300"},H={class:"px-4 py-3 text-slate-500"},K={class:"px-4 py-3 text-center"},Z={class:"px-4 py-3 text-right font-mono font-bold text-red-600"},q={class:"px-4 py-3 text-center"},G=["href"],rt={__name:"Aging",props:{agingData:Object,totalReceivables:Number},setup(x){const h=e=>({current:"text-green-600","31-60":"text-yellow-600","61-90":"text-orange-600",over_90:"text-red-600"})[e]||"text-slate-600",_=e=>({current:"bg-green-100 text-green-700","31-60":"bg-yellow-100 text-yellow-700","61-90":"bg-orange-100 text-orange-700",over_90:"bg-red-100 text-red-700"})[e]||"bg-slate-100 text-slate-700",y=e=>e<=30?"bg-green-100 text-green-700":e<=60?"bg-yellow-100 text-yellow-700":e<=90?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",w=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0),m=(e,r)=>typeof window<"u"&&window.route?window.route(e,r):"#";return(e,r)=>(l(),v(I,null,{default:k(()=>[u(f(D),{title:"Aging Piutang"}),t("div",N,[t("div",P,[r[0]||(r[0]=t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Aging Report Piutang"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Analisis umur piutang ")],-1)),u(A,{type:"link",icon:f(C),class:"bg-white border border-slate-200 text-slate-700",label:"Kembali",href:m("receivables.index")},null,8,["icon","href"])])]),t("div",F,[r[1]||(r[1]=t("p",{class:"text-red-100 text-sm mb-1"},"Total Piutang Outstanding",-1)),t("p",R,s(d(x.totalReceivables)),1)]),t("div",j,[(l(!0),n(b,null,c(x.agingData,(a,i)=>(l(),n("div",{key:i,class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-4"},[t("p",L,s(a.label),1),t("p",{class:g(["text-xl font-bold font-mono",h(i)])},s(d(a.total)),3),t("p",S,s(a.items.length)+" invoice",1)]))),128))]),e.bucket.items.length>0?(l(!0),n(b,{key:0},c(x.agingData,(a,i)=>(l(),n("div",{key:i,class:"mb-6"},[t("div",V,[t("div",O,[t("h3",T,s(a.label),1),t("span",{class:g(["px-3 py-1 rounded-full text-sm font-bold",_(i)])},s(d(a.total)),3)]),t("table",$,[r[2]||(r[2]=t("thead",{class:"bg-slate-50 dark:bg-slate-800"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-slate-600"},"Invoice"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-slate-600"},"Pelanggan"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-slate-600"},"Tanggal"),t("th",{class:"px-4 py-2 text-center text-xs font-semibold text-slate-600"},"Hari"),t("th",{class:"px-4 py-2 text-right text-xs font-semibold text-slate-600"},"Sisa Piutang"),t("th",{class:"px-4 py-2 text-center text-xs font-semibold text-slate-600"},"Aksi")])],-1)),t("tbody",null,[(l(!0),n(b,null,c(a.items,o=>{var p;return l(),n("tr",{key:o.sale.id,class:"border-b border-slate-100 dark:border-slate-800"},[t("td",z,s(o.sale.invoice),1),t("td",E,s((p=o.sale.customer)==null?void 0:p.name),1),t("td",H,s(w(o.sale.created_at)),1),t("td",K,[t("span",{class:g(["px-2 py-1 rounded-full text-xs font-bold",y(o.days_past)])},s(o.days_past)+" hari ",3)]),t("td",Z,s(d(o.remaining)),1),t("td",q,[t("a",{href:m("receivables.show",o.sale.id),class:"text-primary-600 hover:underline text-sm"}," Bayar ",8,G)])])}),128))])])])]))),128)):B("",!0)]),_:1}))}};export{rt as default};
