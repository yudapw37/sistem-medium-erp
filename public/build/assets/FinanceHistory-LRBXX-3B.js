import{r as V,a as x,c as C,w as a,b as e,u as $,Z as A,d as s,k as c,v as j,x as N,e as r,g,p as B,t as u,n as D,F as I,h as H,O}from"./app-CIYeQ-4j.js";import{I as U}from"./IconUser-CjGQ9nH3.js";import{_ as R}from"./DashboardLayout-CDE7-Y8V.js";import{_ as T}from"./Search-NBeUwUBy.js";import{_ as q}from"./Table-W38pwiux.js";import{_ as z}from"./TableCard-DWxSJUUQ.js";import{_ as L,a as M}from"./TableTbody-B6-z0LtQ.js";import{_ as m,a as o}from"./TableTh-C_S67pHj.js";import{_ as E}from"./Pagination-DUsmzl5y.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconUsers-lhp4zDA0.js";import"./IconSun-B2kMHmLk.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";import"./IconSearch-_c1o4uNe.js";import"./IconChevronRight-CKLwVeXD.js";const G={class:"mb-4"},Z={class:"flex flex-col sm:flex-row gap-4 items-center flex-wrap"},J={class:"w-full sm:w-64"},K={class:"flex items-center gap-2"},P={class:"w-full sm:w-40"},Q={class:"font-bold text-slate-900 dark:text-white"},W={class:"flex items-center gap-2"},X=["title"],Y={key:1},ct={__name:"FinanceHistory",props:{approvals:Object,filters:Object},setup(d){var k,w,y;const v=d,f=V({start_date:((k=v.filters)==null?void 0:k.start_date)||"",end_date:((w=v.filters)==null?void 0:w.end_date)||"",status:((y=v.filters)==null?void 0:y.status)||""}),_=()=>{var i;O.get(b("approvals.finance.history"),{q:(i=v.filters)==null?void 0:i.q,...f.value},{preserveState:!0})},F=i=>i?new Date(i).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",b=(i,t)=>typeof window<"u"&&window.route?window.route(i,t):"#";return(i,t)=>(x(),C(R,null,{default:a(()=>{var h;return[e($(A),{title:"History Finance Approval"}),t[14]||(t[14]=s("div",{class:"mb-6"},[s("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},[s("div",null,[s("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"History Finance Approval"),s("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Riwayat approval/reject oleh Finance ")])])],-1)),s("div",G,[s("div",Z,[s("div",J,[e(T,{url:b("approvals.finance.history"),placeholder:"Cari No. Invoice..."},null,8,["url"])]),s("div",K,[c(s("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=l=>f.value.start_date=l),onChange:_,class:"h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},null,544),[[j,f.value.start_date]]),t[3]||(t[3]=s("span",{class:"text-slate-400"},"-",-1)),c(s("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=l=>f.value.end_date=l),onChange:_,class:"h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},null,544),[[j,f.value.end_date]])]),s("div",P,[c(s("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>f.value.status=l),onChange:_,class:"w-full h-10 px-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm"},[...t[4]||(t[4]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"approved"},"Approved",-1),s("option",{value:"rejected"},"Rejected",-1)])],544),[[N,f.value.status]])])])]),e(z,{title:"History Approval"},{default:a(()=>[e(q,null,{default:a(()=>[e(L,null,{default:a(()=>[s("tr",null,[e(m,{class:"w-10"},{default:a(()=>[...t[5]||(t[5]=[r("No",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[6]||(t[6]=[r("Invoice",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[7]||(t[7]=[r("Customer",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[8]||(t[8]=[r("Gudang",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[9]||(t[9]=[r("Status",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[10]||(t[10]=[r("Approver",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[11]||(t[11]=[r("Tanggal",-1)])]),_:1}),e(m,null,{default:a(()=>[...t[12]||(t[12]=[r("Catatan",-1)])]),_:1})])]),_:1}),e(M,null,{default:a(()=>[d.approvals.data.length>0?(x(!0),g(I,{key:0},B(d.approvals.data,(l,S)=>(x(),g("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50"},[e(o,{class:"text-center"},{default:a(()=>[r(u(++S+(d.approvals.current_page-1)*d.approvals.per_page),1)]),_:2},1024),e(o,null,{default:a(()=>{var n;return[s("span",Q,u(((n=l.sale)==null?void 0:n.invoice)||"-"),1)]}),_:2},1024),e(o,null,{default:a(()=>{var n,p;return[r(u(((p=(n=l.sale)==null?void 0:n.customer)==null?void 0:p.name)||"-"),1)]}),_:2},1024),e(o,null,{default:a(()=>{var n,p;return[r(u(((p=(n=l.sale)==null?void 0:n.warehouse)==null?void 0:p.name)||"-"),1)]}),_:2},1024),e(o,null,{default:a(()=>[s("span",{class:D(["px-2 py-1 rounded-full text-xs font-semibold",l.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},u(l.status==="approved"?"Approved":"Rejected"),3)]),_:2},1024),e(o,null,{default:a(()=>{var n;return[s("div",W,[e($(U),{size:16,class:"text-slate-400"}),s("span",null,u(((n=l.user)==null?void 0:n.name)||"-"),1)])]}),_:2},1024),e(o,null,{default:a(()=>[r(u(F(l.approved_at)),1)]),_:2},1024),e(o,null,{default:a(()=>[s("span",{class:"text-sm text-slate-600 dark:text-slate-400 max-w-[150px] truncate block",title:l.notes},u(l.notes||"-"),9,X)]),_:2},1024)]))),128)):(x(),g("tr",Y,[e(o,{colspan:"8",class:"text-center py-12"},{default:a(()=>[...t[13]||(t[13]=[s("p",{class:"text-slate-500"},"Belum ada history approval",-1)])]),_:1})]))]),_:1})]),_:1})]),_:1}),(h=d.approvals)!=null&&h.links&&d.approvals.links.length>3?(x(),C(E,{key:0,links:d.approvals.links},null,8,["links"])):H("",!0)]}),_:1}))}};export{ct as default};
