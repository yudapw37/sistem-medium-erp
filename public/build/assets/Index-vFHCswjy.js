import{r as E,A as M,a as o,c as h,w as l,b as s,u as i,Z as U,d as t,k as y,v as Z,x as _,g as d,p as z,t as u,F as w,h as C,e as m,n as A,O as c}from"./app-DA0EYa_6.js";import{a as G}from"./IconSun-9pmbsCzq.js";import{I as H}from"./IconCheck--wdzxov0.js";import{c as B,_ as R}from"./DashboardLayout-DqHF1oae.js";import{I as P}from"./IconDatabaseOff-DfZH0otJ.js";import{I as W}from"./IconEdit-CG94FACO.js";import{I as q}from"./IconEye-Bk7XjJNy.js";import{I as J}from"./IconTrash-BZm3hFVP.js";import{_ as N}from"./Button-mcRGNCmf.js";import{_ as Q}from"./Table-CzIMA27R.js";import{_ as X}from"./TableCard-BYxyxo2i.js";import{_ as Y,a as ee}from"./TableTbody-BBPwPiVX.js";import{_ as f,a as b}from"./TableTh-CVR3I-fd.js";import{_ as te}from"./Pagination-B8BHcZ6z.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconChevronRight-QKrPJlsB.js";const ae={class:"mb-6"},se={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},le={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 mb-6"},re={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},oe=["value"],ne=["value"],ie={class:"flex items-end gap-2"},de={class:"font-bold text-slate-900 dark:text-white"},ue={class:"text-slate-600 dark:text-slate-400"},me={class:"text-slate-800 dark:text-slate-200"},fe={class:"flex items-center gap-2"},be={class:"text-slate-800 dark:text-slate-200"},xe={class:"flex items-center justify-center gap-2"},ke=["onClick"],pe=["onClick"],ge=["onClick"],ce=["onClick"],ve={key:1,class:"flex flex-col items-center justify-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800"},ye={class:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4"},Me={__name:"Index",props:{transactions:Object,warehouses:Array,reasonLabels:Object,filters:Object},setup(n){var I,S,$,D,V;const g=n,r=E({search:((I=g.filters)==null?void 0:I.search)||"",type:((S=g.filters)==null?void 0:S.type)||"",reason:(($=g.filters)==null?void 0:$.reason)||"",warehouse_id:((D=g.filters)==null?void 0:D.warehouse_id)||"",status:((V=g.filters)==null?void 0:V.status)||""}),j=M(()=>r.value.search||r.value.type||r.value.reason||r.value.warehouse_id||r.value.status),T=()=>{c.get(x("zero-value-transactions.index"),r.value,{preserveState:!0,preserveScroll:!0})},O=()=>{r.value={search:"",type:"",reason:"",warehouse_id:"",status:""},T()},K=k=>{confirm("Finalkan transaksi ini? Stok akan diupdate dan data akan dikunci.")&&c.post(x("zero-value-transactions.finalize",k))},L=k=>{confirm("Hapus draf transaksi ini?")&&c.delete(x("zero-value-transactions.destroy",k))},x=(k,e)=>typeof window<"u"&&window.route?window.route(k,e):"#";return(k,e)=>(o(),h(R,null,{default:l(()=>{var F;return[s(i(U),{title:"Zero-Value Trans."}),t("div",ae,[t("div",se,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Zero-Value Transaction"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Kelola barang rusak, expired, hibah, dan bonus supplier (Nilai 0) ")],-1)),s(N,{type:"link",icon:i(B),class:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/30",label:"Tambah Transaksi",href:x("zero-value-transactions.create")},null,8,["icon","href"])])]),t("div",le,[t("div",re,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Cari Kode ",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.search=a),type:"text",placeholder:"ZVT-xxxxx",class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[Z,r.value.search]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Tipe ",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.type=a),class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...e[6]||(e[6]=[t("option",{value:""},"Semua",-1),t("option",{value:"in"},"Stok Masuk (Bonus)",-1),t("option",{value:"out"},"Stok Keluar (Rusak/dll)",-1)])],512),[[_,r.value.type]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Alasan ",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.reason=a),class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[e[8]||(e[8]=t("option",{value:""},"Semua Alasan",-1)),(o(!0),d(w,null,z(n.reasonLabels,(a,v)=>(o(),d("option",{key:v,value:v},u(a),9,oe))),128))],512),[[_,r.value.reason]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Gudang ",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.value.warehouse_id=a),class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[e[10]||(e[10]=t("option",{value:""},"Semua Gudang",-1)),(o(!0),d(w,null,z(n.warehouses,a=>(o(),d("option",{key:a.id,value:a.id},u(a.name),9,ne))),128))],512),[[_,r.value.warehouse_id]])]),t("div",ie,[t("button",{onClick:T,class:"flex-1 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-medium transition-colors"}," Filter "),j.value?(o(),d("button",{key:0,onClick:O,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors"}," Reset ")):C("",!0)])])]),n.transactions.data.length>0?(o(),h(X,{key:0,title:"Daftar Transaksi Nilai Nol"},{default:l(()=>[s(Q,null,{default:l(()=>[s(Y,null,{default:l(()=>[t("tr",null,[s(f,{class:"w-10"},{default:l(()=>[...e[12]||(e[12]=[m("No",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[13]||(e[13]=[m("Kode",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[14]||(e[14]=[m("Tanggal",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[15]||(e[15]=[m("Tipe",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[16]||(e[16]=[m("Alasan",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[17]||(e[17]=[m("Gudang",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[18]||(e[18]=[m("Status",-1)])]),_:1}),s(f,{class:"text-center"},{default:l(()=>[...e[19]||(e[19]=[m("Aksi",-1)])]),_:1})])]),_:1}),s(ee,null,{default:l(()=>[(o(!0),d(w,null,z(n.transactions.data,(a,v)=>(o(),d("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[s(b,{class:"text-center"},{default:l(()=>[m(u(++v+(n.transactions.current_page-1)*n.transactions.per_page),1)]),_:2},1024),s(b,null,{default:l(()=>[t("span",de,u(a.code),1)]),_:2},1024),s(b,null,{default:l(()=>[t("span",ue,u(new Date(a.date).toLocaleDateString("id-ID")),1)]),_:2},1024),s(b,null,{default:l(()=>[t("span",{class:A(["px-2 py-1 rounded-full text-xs font-semibold",a.type==="in"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"])},u(a.type==="in"?"Stok Masuk":"Stok Keluar"),3)]),_:2},1024),s(b,null,{default:l(()=>[t("span",me,u(n.reasonLabels[a.reason]||a.reason),1)]),_:2},1024),s(b,null,{default:l(()=>{var p;return[t("div",fe,[s(i(G),{size:16,class:"text-slate-400"}),t("span",be,u(((p=a.warehouse)==null?void 0:p.name)||"-"),1)])]}),_:2},1024),s(b,null,{default:l(()=>[t("span",{class:A(["px-2 py-1 rounded-full text-xs font-semibold",a.status==="finalized"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},u(a.status==="finalized"?"Finalized":"Draft"),3)]),_:2},1024),s(b,null,{default:l(()=>[t("div",xe,[t("button",{onClick:p=>i(c).visit(x("zero-value-transactions.show",a.id)),class:"p-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors",title:"Detail"},[s(i(q),{size:18})],8,ke),a.status==="draft"?(o(),d(w,{key:0},[t("button",{onClick:p=>i(c).visit(x("zero-value-transactions.edit",a.id)),class:"p-1.5 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400 transition-colors",title:"Edit"},[s(i(W),{size:18})],8,pe),t("button",{onClick:p=>K(a.id),class:"p-1.5 rounded-lg hover:bg-emerald-50 dark:hover:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 transition-colors",title:"Finalize"},[s(i(H),{size:18})],8,ge),t("button",{onClick:p=>L(a.id),class:"p-1.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",title:"Hapus"},[s(i(J),{size:18})],8,ce)],64)):C("",!0)])]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})):(o(),d("div",ve,[t("div",ye,[s(i(P),{size:32,class:"text-slate-400","stroke-width":1.5})]),e[20]||(e[20]=t("h3",{class:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-1"}," Belum Ada Transaksi ",-1)),e[21]||(e[21]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 mb-4"}," Buat transaksi nilai nol pertama Anda. ",-1)),s(N,{type:"link",icon:i(B),class:"bg-primary-500 hover:bg-primary-600 text-white",label:"Tambah Transaksi",href:x("zero-value-transactions.create")},null,8,["icon","href"])])),(F=n.transactions)!=null&&F.links&&n.transactions.links.length>3?(o(),h(te,{key:2,links:n.transactions.links},null,8,["links"])):C("",!0)]}),_:1}))}};export{Me as default};
