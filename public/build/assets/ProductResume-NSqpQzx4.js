import{K as I,A as m,a as r,c as N,w as D,b as u,u as c,Z as T,d as e,k as g,x as y,g as o,p as x,t as n,F as b,e as w,h as p,O as J}from"./app-DA0EYa_6.js";import{b as R,_ as S}from"./DashboardLayout-DqHF1oae.js";import{I as V}from"./IconFileSpreadsheet-DCPU1LFp.js";import{I as O}from"./IconFilter-f3eGT3XC.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";const A={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-5 mb-6 shadow-sm"},C={class:"flex flex-wrap items-end gap-4"},z={class:"w-full sm:w-48"},E=["value"],M={class:"w-full sm:w-40"},P=["value"],H=["href"],K={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm"},U={class:"overflow-x-auto"},Y={class:"w-full text-sm"},L={class:"divide-y divide-slate-100 dark:divide-slate-800"},Z={class:"py-4 px-6 text-slate-500 font-medium"},$={class:"py-4 px-6 font-semibold text-slate-900 dark:text-white"},q={class:"py-4 px-6 text-center"},G={class:"inline-flex items-center justify-center min-w-[32px] px-2 py-1 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-bold border border-blue-100 dark:border-blue-900/30"},Q={class:"py-4 px-6 text-right font-bold text-emerald-600 dark:text-emerald-400 tabular-nums"},W={key:0},X={colspan:"4",class:"py-20 text-center"},ee={class:"flex flex-col items-center justify-center"},te={key:0},se={class:"bg-slate-50 dark:bg-slate-800/50 font-bold border-t border-slate-200 dark:border-slate-700"},ae={class:"py-5 px-6 text-center"},re={class:"text-slate-900 dark:text-white font-black text-lg"},le={class:"py-5 px-6 text-right"},oe={class:"text-emerald-600 dark:text-emerald-400 font-black text-lg tabular-nums"},ke={__name:"ProductResume",props:{books:Array,filter:Object},setup(d){const i=d,l=I({month:i.filter.month,year:i.filter.year}),v=[{name:"Januari",value:1},{name:"Februari",value:2},{name:"Maret",value:3},{name:"April",value:4},{name:"Mei",value:5},{name:"Juni",value:6},{name:"Juli",value:7},{name:"Agustus",value:8},{name:"September",value:9},{name:"Oktober",value:10},{name:"November",value:11},{name:"Desember",value:12}],_=m(()=>{const a=new Date().getFullYear(),t=[];for(let s=a;s>=2015;s--)t.push(s);return t}),F=m(()=>i.books.reduce((a,t)=>a+(parseInt(t.total_jumlah)||0),0)),j=m(()=>i.books.reduce((a,t)=>a+(parseFloat(t.total_harga)||0),0)),B=()=>{J.get(k("old-orders.product-resume"),{month:l.month,year:l.year},{preserveState:!0,replace:!0})},f=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a||0),k=(a,t)=>typeof window<"u"&&window.route?window.route(a,t):"#";return(a,t)=>(r(),N(S,null,{default:D(()=>[u(c(T),{title:"Produk Resume"}),t[9]||(t[9]=e("div",{class:"mb-6"},[e("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Produk Resume"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Rekapitulasi penjualan buku dari order yang terkonfirmasi (Resume Status = True). ")])])],-1)),e("div",A,[e("div",C,[e("div",z,[t[2]||(t[2]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1"},"Bulan",-1)),g(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.month=s),class:"w-full h-11 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 text-sm font-medium focus:ring-4 focus:ring-primary-500/10 focus:border-primary-500 transition-all outline-none"},[(r(),o(b,null,x(v,s=>e("option",{key:s.value,value:s.value},n(s.name),9,E)),64))],512),[[y,l.month]])]),e("div",M,[t[3]||(t[3]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1"},"Tahun",-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.year=s),class:"w-full h-11 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 text-sm font-medium focus:ring-4 focus:ring-primary-500/10 focus:border-primary-500 transition-all outline-none"},[(r(!0),o(b,null,x(_.value,s=>(r(),o("option",{key:s,value:s},n(s),9,P))),128))],512),[[y,l.year]])]),e("button",{onClick:B,class:"h-11 px-6 rounded-xl bg-primary-500 hover:bg-primary-600 active:scale-95 text-white text-sm font-bold transition-all shadow-lg shadow-primary-500/25 flex items-center justify-center gap-2"},[u(c(O),{size:18}),t[4]||(t[4]=w(" Filter ",-1))]),d.books.length>0?(r(),o("a",{key:0,href:k("old-orders.product-resume-export-excel",{month:l.month,year:l.year}),target:"_blank",class:"h-11 px-6 rounded-xl bg-emerald-500 hover:bg-emerald-600 active:scale-95 text-white text-sm font-bold transition-all shadow-lg shadow-emerald-500/25 flex items-center justify-center gap-2"},[u(c(V),{size:18}),t[5]||(t[5]=w(" Export Excel ",-1))],8,H)):p("",!0)])]),e("div",K,[e("div",U,[e("table",Y,[t[8]||(t[8]=e("thead",null,[e("tr",{class:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700"},[e("th",{class:"text-left py-4 px-6 text-xs font-bold text-slate-500 uppercase tracking-widest w-16"},"No"),e("th",{class:"text-left py-4 px-6 text-xs font-bold text-slate-500 uppercase tracking-widest"},"Nama Buku"),e("th",{class:"text-center py-4 px-6 text-xs font-bold text-slate-500 uppercase tracking-widest"},"Jumlah Buku"),e("th",{class:"text-right py-4 px-6 text-xs font-bold text-slate-500 uppercase tracking-widest"},"Total Harga Buku")])],-1)),e("tbody",L,[(r(!0),o(b,null,x(d.books,(s,h)=>(r(),o("tr",{key:h,class:"hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors"},[e("td",Z,n(h+1),1),e("td",$,n(s.nama_buku||"Tanpa Judul"),1),e("td",q,[e("span",G,n(s.total_jumlah),1)]),e("td",Q,n(f(s.total_harga)),1)]))),128)),d.books.length===0?(r(),o("tr",W,[e("td",X,[e("div",ee,[u(c(R),{size:48,class:"text-slate-300 dark:text-slate-700 mb-2"}),t[6]||(t[6]=e("p",{class:"text-slate-400 font-medium"},"Tidak ada data buku untuk periode ini.",-1))])])])):p("",!0)]),d.books.length>0?(r(),o("tfoot",te,[e("tr",se,[t[7]||(t[7]=e("td",{colspan:"2",class:"py-5 px-6 text-right text-slate-900 dark:text-white uppercase tracking-widest text-xs"},"Total Keseluruhan",-1)),e("td",ae,[e("span",re,n(F.value),1)]),e("td",le,[e("span",oe,n(f(j.value)),1)])])])):p("",!0)])])])]),_:1}))}};export{ke as default};
