import{Q as V,i as w,T as I,r as g,M as P,a as p,c as U,w as c,b as o,u as e,Z as B,d as s,e as n,j as f,g as k,t as S,f as C}from"./app-DA0EYa_6.js";import{I as D}from"./IconArrowLeft-gRB0gwWT.js";import{I as z,a as j}from"./IconCurrencyDollar-Dtstp7e-.js";import{I as T}from"./IconDeviceFloppy-C77V5VA5.js";import{h as M,_ as H}from"./DashboardLayout-DqHF1oae.js";import{I as x}from"./IconPhoto-Bdg2Wu1E.js";import{_ as N}from"./TextArea-C-VmqKce.js";import{_ as $}from"./InputSelect-BqzyB0VS.js";import{_ as G}from"./Checkbox-BX7fLvPL.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconCircleFilled-C8aRf-1y.js";const K={class:"mb-6"},L={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},A={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},E={class:"lg:col-span-1"},O={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-5"},R={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2"},q={class:"aspect-square rounded-xl bg-slate-100 dark:bg-slate-800 border-2 border-dashed border-slate-300 dark:border-slate-700 flex items-center justify-center overflow-hidden mb-4"},F=["src"],J={key:1,class:"text-center p-6"},Q={class:"lg:col-span-2 space-y-6"},Z={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-5"},W={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"md:col-span-2"},ee={class:"md:col-span-2"},te={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-5"},se={class:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2"},re={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},oe={class:"md:col-span-4 flex items-center gap-2 mt-2"},le={class:"flex justify-end gap-3"},ae=["disabled"],Ve={__name:"Create",props:{categories:Array},setup(_){const{errors:a}=V().props,u=w(),r=I({image:"",barcode:"",title:"",category_id:"",description:"",buy_price:"",sell_price:"",weight:"",stock:"",is_sellable:!0}),b=g(null),m=g(null),h=d=>{b.value=d,r.category_id=(d==null?void 0:d.id)||""},y=d=>{const t=d.target.files[0];t&&(r.image=t,m.value=URL.createObjectURL(t))},v=()=>{r.post(route("products.store"),{onSuccess:()=>u.success("Produk berhasil ditambahkan"),onError:()=>u.error("Gagal menyimpan produk")})};return(d,t)=>{const i=P("Input");return p(),U(H,null,{default:c(()=>[o(e(B),{title:"Tambah Produk"}),s("div",K,[o(e(f),{href:d.route("products.index"),class:"inline-flex items-center gap-2 text-sm text-slate-500 hover:text-primary-600 mb-3"},{default:c(()=>[o(e(D),{size:16}),t[8]||(t[8]=n(" Kembali ke Produk ",-1))]),_:1},8,["href"]),s("h1",L,[o(e(M),{size:28,class:"text-primary-500"}),t[9]||(t[9]=n(" Tambah Produk Baru ",-1))])]),s("form",{onSubmit:C(v,["prevent"])},[s("div",A,[s("div",E,[s("div",O,[s("h3",R,[o(e(x),{size:18}),t[10]||(t[10]=n(" Gambar Produk ",-1))]),s("div",q,[m.value?(p(),k("img",{key:0,src:m.value,alt:"Preview",class:"w-full h-full object-cover"},null,8,F)):(p(),k("div",J,[o(e(x),{size:48,class:"mx-auto text-slate-400 mb-2"}),t[11]||(t[11]=s("p",{class:"text-sm text-slate-500"},"Belum ada gambar",-1))]))]),o(i,{type:"file",label:"Upload Gambar",onChange:y,errors:e(a).image,accept:"image/*"},null,8,["errors"])])]),s("div",Q,[s("div",Z,[s("h3",W,[o(e(z),{size:18}),t[12]||(t[12]=n(" Informasi Dasar ",-1))]),s("div",X,[s("div",Y,[o($,{label:"Kategori",data:_.categories,selected:b.value,"set-selected":h,placeholder:"Pilih kategori",errors:e(a).category_id,searchable:!0,"display-key":"name"},null,8,["data","selected","errors"])]),o(i,{type:"text",label:"Barcode / SKU",modelValue:e(r).barcode,"onUpdate:modelValue":t[0]||(t[0]=l=>e(r).barcode=l),errors:e(a).barcode,placeholder:"Masukkan kode produk"},null,8,["modelValue","errors"]),o(i,{type:"text",label:"Nama Produk",modelValue:e(r).title,"onUpdate:modelValue":t[1]||(t[1]=l=>e(r).title=l),errors:e(a).title,placeholder:"Masukkan nama produk"},null,8,["modelValue","errors"]),s("div",ee,[o(N,{label:"Deskripsi",placeholder:"Deskripsi produk (opsional)",errors:e(a).description,modelValue:e(r).description,"onUpdate:modelValue":t[2]||(t[2]=l=>e(r).description=l),rows:3},null,8,["errors","modelValue"])])])]),s("div",te,[s("h3",se,[o(e(j),{size:18}),t[13]||(t[13]=n(" Harga & Stok ",-1))]),s("div",re,[o(i,{type:"number",label:"Harga Beli",modelValue:e(r).buy_price,"onUpdate:modelValue":t[3]||(t[3]=l=>e(r).buy_price=l),errors:e(a).buy_price,placeholder:"0"},null,8,["modelValue","errors"]),o(i,{type:"number",label:"Harga Jual",modelValue:e(r).sell_price,"onUpdate:modelValue":t[4]||(t[4]=l=>e(r).sell_price=l),errors:e(a).sell_price,placeholder:"0"},null,8,["modelValue","errors"]),o(i,{type:"number",label:"Berat (gram)",modelValue:e(r).weight,"onUpdate:modelValue":t[5]||(t[5]=l=>e(r).weight=l),errors:e(a).weight,placeholder:"0"},null,8,["modelValue","errors"]),o(i,{type:"number",label:"Stok",modelValue:e(r).stock,"onUpdate:modelValue":t[6]||(t[6]=l=>e(r).stock=l),errors:e(a).stock,placeholder:"0"},null,8,["modelValue","errors"]),s("div",oe,[o(G,{checked:e(r).is_sellable,"onUpdate:checked":t[7]||(t[7]=l=>e(r).is_sellable=l),id:"is_sellable"},null,8,["checked"]),t[14]||(t[14]=s("label",{for:"is_sellable",class:"text-sm font-medium text-slate-700 dark:text-slate-300 cursor-pointer"}," Dapat Dijual (Tampil di POS) ",-1))])])]),s("div",le,[o(e(f),{href:d.route("products.index"),class:"px-6 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 font-medium transition-colors"},{default:c(()=>[...t[15]||(t[15]=[n(" Batal ",-1)])]),_:1},8,["href"]),s("button",{type:"submit",disabled:e(r).processing,class:"inline-flex items-center gap-2 px-6 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:opacity-50"},[o(e(T),{size:18}),n(" "+S(e(r).processing?"Menyimpan...":"Simpan Produk"),1)],8,ae)])])])],32)]),_:1})}}};export{Ve as default};
