import{r as h,A as g,a as d,c as L,w as r,b as s,u as m,Z as W,d as t,e as o,n as X,g as i,h as v,f as q,k as S,v as I,F as Q,p as Z,t as p,O as $}from"./app-CIYeQ-4j.js";import{I as H}from"./IconUsers-lhp4zDA0.js";import{n as J,_ as Y}from"./DashboardLayout-CDE7-Y8V.js";import{I as ee}from"./IconDatabaseOff-MG7eloAg.js";import{I as te}from"./IconFilter-xJGsPKNp.js";import{I as M}from"./IconSearch-_c1o4uNe.js";import{I as se}from"./IconX-DHFi-BKV.js";import{_ as x,a as f}from"./TableTh-C_S67pHj.js";import{_ as ae}from"./Pagination-DUsmzl5y.js";import{_ as le}from"./InputSelect-CCGvz5pc.js";import{g as re}from"./imageUrl-DBqZIQ1M.js";import"./createVueComponent-Cyzcg1Tn.js";import"./IconSun-B2kMHmLk.js";import"./IconFileInvoice-CDLMKT3Q.js";import"./IconReceipt-CzHzcLcH.js";import"./IconShoppingCart-C-7we8qa.js";import"./IconChevronRight-CKLwVeXD.js";import"./IconCircleFilled-CJHeZp2T.js";const oe={class:"space-y-6"},de={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ne={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},ie={key:0,class:"w-2 h-2 rounded-full bg-primary-500"},ue={key:0,class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-5 animate-slide-up"},pe={class:"grid gap-4 md:grid-cols-4"},me={class:"relative"},xe={class:"flex justify-end gap-2 mt-4"},fe={type:"submit",class:"inline-flex items-center gap-2 px-6 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors"},ce={key:1,class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden"},be={class:"overflow-x-auto"},ge={class:"w-full"},ke={class:"border-b border-slate-100 dark:border-slate-800"},ve={class:"divide-y divide-slate-100 dark:divide-slate-800"},_e={class:"flex items-center gap-3"},ye={class:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0"},we=["src","alt"],he={key:1,class:"w-full h-full flex items-center justify-center"},Se={class:"text-sm font-semibold text-slate-800 dark:text-white"},Ie={class:"text-xs text-slate-500"},Fe={key:0,class:"px-2 py-1 text-xs font-bold bg-success-100 text-success-700 dark:bg-success-900/30 dark:text-success-400 rounded-full"},Te={key:1,class:"px-2 py-1 text-xs font-bold bg-danger-100 text-danger-700 dark:bg-danger-900/30 dark:text-danger-400 rounded-full"},je={class:"text-slate-500"},ze={class:"text-slate-900 dark:text-white font-medium"},Pe={key:0,class:"flex items-center gap-1"},Ae={key:1},Ce={key:2,class:"flex flex-col items-center justify-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800"},De={class:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4"},Je={__name:"Index",props:{stocks:Object,warehouses:Array,filters:Object},setup(F){var P,A,C,D,U;const u=F,T={start_date:"",end_date:"",product:"",warehouse_id:""},k=l=>l??"",b=h(!1),n=h({start_date:k((P=u.filters)==null?void 0:P.start_date),end_date:k((A=u.filters)==null?void 0:A.end_date),product:k((C=u.filters)==null?void 0:C.product),warehouse_id:k((D=u.filters)==null?void 0:D.warehouse_id)}),_=h((U=u.filters)!=null&&U.warehouse_id?u.warehouses.find(l=>String(l.id)===String(u.filters.warehouse_id)):null),N=l=>{_.value=l,n.value.warehouse_id=l?l.id:""},y=g(()=>n.value.start_date||n.value.end_date||n.value.product||n.value.warehouse_id),j=g(()=>{var l;return((l=u.stocks)==null?void 0:l.data)??[]}),w=g(()=>{var l;return((l=u.stocks)==null?void 0:l.links)??[]}),O=g(()=>{var l;return((l=u.stocks)==null?void 0:l.current_page)??1}),K=g(()=>{var l;return((l=u.stocks)==null?void 0:l.per_page)??10}),G=()=>{$.get(z("reports.stocks.index"),n.value,{preserveScroll:!0,preserveState:!0}),b.value=!1},R=()=>{n.value={...T},_.value=null,$.get(z("reports.stocks.index"),T,{preserveScroll:!0,preserveState:!0,replace:!0})},z=(l,e)=>typeof window<"u"&&window.route?window.route(l,e):"#";return(l,e)=>(d(),L(Y,null,{default:r(()=>[s(m(W),{title:"Laporan Stok"}),t("div",oe,[t("div",de,[t("div",null,[t("h1",ne,[s(m(J),{size:28,class:"text-primary-500"}),e[4]||(e[4]=o(" Laporan Stok ",-1))]),e[5]||(e[5]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Riwayat mutasi stok (Masuk/Keluar) ",-1))]),t("button",{onClick:e[0]||(e[0]=a=>b.value=!b.value),class:X(["inline-flex items-center gap-2 px-4 py-2.5 rounded-xl border text-sm font-medium transition-colors",b.value||y.value?"bg-primary-50 border-primary-200 text-primary-700 dark:bg-primary-950/50 dark:border-primary-800 dark:text-primary-400":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"])},[s(m(te),{size:18}),e[6]||(e[6]=t("span",null,"Filter",-1)),y.value?(d(),i("span",ie)):v("",!0)],2)]),b.value?(d(),i("div",ue,[t("form",{onSubmit:q(G,["prevent"])},[t("div",pe,[t("div",null,[s(le,{label:"Gudang",data:F.warehouses,selected:_.value,"set-selected":N,placeholder:"Semua Gudang",searchable:!0},null,8,["data","selected"])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Tanggal Mulai ",-1)),S(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=a=>n.value.start_date=a),class:"w-full h-11 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"},null,512),[[I,n.value.start_date]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Tanggal Akhir ",-1)),S(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=a=>n.value.end_date=a),class:"w-full h-11 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"},null,512),[[I,n.value.end_date]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Produk ",-1)),t("div",me,[S(t("input",{type:"text",placeholder:"Cari nama produk...","onUpdate:modelValue":e[3]||(e[3]=a=>n.value.product=a),class:"w-full h-11 pl-10 pr-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-200 placeholder-slate-400 focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"},null,512),[[I,n.value.product]]),s(m(M),{size:18,class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})])])]),t("div",xe,[y.value?(d(),i("button",{key:0,type:"button",onClick:R,class:"px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[s(m(se),{size:18})])):v("",!0),t("button",fe,[s(m(M),{size:18}),e[10]||(e[10]=o(" Terapkan ",-1))])])],32)])):v("",!0),j.value.length>0?(d(),i("div",ce,[t("div",be,[t("table",ge,[t("thead",null,[t("tr",ke,[s(x,null,{default:r(()=>[...e[11]||(e[11]=[o("No",-1)])]),_:1}),s(x,null,{default:r(()=>[...e[12]||(e[12]=[o("Tanggal",-1)])]),_:1}),s(x,null,{default:r(()=>[...e[13]||(e[13]=[o("Gudang",-1)])]),_:1}),s(x,null,{default:r(()=>[...e[14]||(e[14]=[o("Produk",-1)])]),_:1}),s(x,{class:"text-center"},{default:r(()=>[...e[15]||(e[15]=[o("Tipe",-1)])]),_:1}),s(x,{class:"text-center"},{default:r(()=>[...e[16]||(e[16]=[o("Qty",-1)])]),_:1}),s(x,{class:"text-center"},{default:r(()=>[...e[17]||(e[17]=[o("Perubahan Stok",-1)])]),_:1}),s(x,null,{default:r(()=>[...e[18]||(e[18]=[o("User",-1)])]),_:1}),s(x,null,{default:r(()=>[...e[19]||(e[19]=[o("Keterangan",-1)])]),_:1})])]),t("tbody",ve,[(d(!0),i(Q,null,Z(j.value,(a,E)=>(d(),i("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[s(f,null,{default:r(()=>[o(p(E+1+(O.value-1)*K.value),1)]),_:2},1024),s(f,{class:"text-sm text-slate-600 dark:text-slate-400"},{default:r(()=>[o(p(new Date(a.created_at).toLocaleString("id-ID")),1)]),_:2},1024),s(f,{class:"text-sm font-medium text-slate-700 dark:text-slate-300"},{default:r(()=>{var c;return[o(p(((c=a.warehouse)==null?void 0:c.name)||"-"),1)]}),_:2},1024),s(f,null,{default:r(()=>{var c,V,B;return[t("div",_e,[t("div",ye,[(c=a.product)!=null&&c.image?(d(),i("img",{key:0,src:m(re)(a.product.image),alt:a.product.title,class:"w-full h-full object-cover"},null,8,we)):(d(),i("div",he,[s(m(H),{size:18,class:"text-slate-400"})]))]),t("div",null,[t("p",Se,p(((V=a.product)==null?void 0:V.title)||"Produk Terhapus"),1),t("p",Ie,p(((B=a.product)==null?void 0:B.barcode)||"-"),1)])])]}),_:2},1024),s(f,{class:"text-center"},{default:r(()=>[a.type==="in"?(d(),i("span",Fe," MASUK ")):(d(),i("span",Te," KELUAR "))]),_:2},1024),s(f,{class:"text-center font-bold"},{default:r(()=>[o(p(a.qty),1)]),_:2},1024),s(f,{class:"text-center text-sm"},{default:r(()=>[t("span",je,p(a.previous_stock),1),e[20]||(e[20]=t("span",{class:"mx-2 text-slate-400"},"â†’",-1)),t("span",ze,p(a.current_stock),1)]),_:2},1024),s(f,{class:"text-sm text-slate-600 dark:text-slate-400"},{default:r(()=>{var c;return[o(p(((c=a.user)==null?void 0:c.name)||"-"),1)]}),_:2},1024),s(f,{class:"text-sm text-slate-600 dark:text-slate-400"},{default:r(()=>[a.transaction_id?(d(),i("div",Pe,[e[21]||(e[21]=t("span",{class:"text-primary-500 font-medium"},"TRX",-1)),t("span",null,p(a.note||"Penjualan"),1)])):(d(),i("span",Ae,p(a.note||"-"),1))]),_:2},1024)]))),128))])])])])):(d(),i("div",Ce,[t("div",De,[s(m(ee),{size:32,class:"text-slate-400"})]),e[22]||(e[22]=t("h3",{class:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-1"}," Tidak Ada Data ",-1)),e[23]||(e[23]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Belum ada riwayat stok. ",-1))])),w.value&&w.value.length>3?(d(),L(ae,{key:3,links:w.value},null,8,["links"])):v("",!0)])]),_:1}))}};export{Je as default};
