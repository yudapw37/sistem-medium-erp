import{i as j,r as A,T as S,a as c,c as C,w as l,b as e,u as r,Z as T,d as s,e as i,g as h,h as y,p as B,t as m,F as E,f as N,O as z}from"./app-DA0EYa_6.js";import{e as D,c as U,_ as F}from"./DashboardLayout-DqHF1oae.js";import{I as G}from"./IconDeviceFloppy-C77V5VA5.js";import{I as O}from"./IconPencilCog-DfUFd1Ei.js";import{I as J}from"./IconTrash-BZm3hFVP.js";import{I as L}from"./IconX-JXYWA-GE.js";import{_ as v}from"./Button-mcRGNCmf.js";import{_ as X}from"./Search-efVWyAAU.js";import{_ as Z}from"./Table-CzIMA27R.js";import{_ as q,a as H}from"./TableTbody-BBPwPiVX.js";import{_ as u,a as p}from"./TableTh-CVR3I-fd.js";import{_ as Q}from"./Pagination-B8BHcZ6z.js";import{_ as k}from"./Input-DvFyKFJk.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconSun-9pmbsCzq.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconSearch-hVNvfgeb.js";import"./IconChevronRight-QKrPJlsB.js";const R={class:"mb-6"},W={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Y={class:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},ee={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800"},te={class:"p-6 border-b border-slate-100 dark:border-slate-800"},se={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ae={class:"w-full sm:w-80"},re={key:0},oe={class:"font-medium text-slate-900 dark:text-white"},le={class:"text-sm text-slate-700 dark:text-slate-300"},ne={class:"text-sm text-slate-600 dark:text-slate-400"},ie={class:"text-sm font-mono text-slate-500 dark:text-slate-400"},de={class:"flex justify-center gap-2"},me={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm"},ce={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 w-full max-w-lg shadow-2xl overflow-hidden"},ue={class:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center"},pe={class:"text-xl font-bold text-slate-900 dark:text-white"},be={class:"p-6 space-y-4"},fe={class:"p-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3 bg-slate-50 dark:bg-slate-800/50"},xe=["disabled"],ze={__name:"Index",props:{masterAddresses:Object},setup(d){const b=j(),f=A(!1),x=A(!1),a=S({id:null,province:"",city:"",district:"",postal_code:""}),V=()=>{x.value=!1,a.reset(),f.value=!0},I=n=>{x.value=!0,a.id=n.id,a.province=n.province,a.city=n.city,a.district=n.district,a.postal_code=n.postal_code||"",f.value=!0},_=()=>{f.value=!1,a.reset()},M=()=>{x.value?a.put(g("master-addresses.update",a.id),{onSuccess:()=>{b.success("Alamat master berhasil diperbarui"),_()},onError:()=>b.error("Gagal memperbarui alamat master")}):a.post(g("master-addresses.store"),{onSuccess:()=>{b.success("Alamat master berhasil ditambahkan"),_()},onError:()=>b.error("Gagal menambahkan alamat master")})},$=n=>{confirm("Apakah Anda yakin ingin menghapus data wilayah ini?")&&z.delete(g("master-addresses.destroy",n),{onSuccess:()=>b.success("Data wilayah berhasil dihapus")})},g=(n,t)=>typeof window<"u"&&window.route?window.route(n,t):"#";return(n,t)=>(c(),C(F,null,{default:l(()=>{var w;return[e(r(T),{title:"Master Alamat se-Indonesia"}),s("div",R,[s("div",W,[s("div",null,[s("h1",Y,[e(r(D),{size:28,class:"text-primary-500"}),t[4]||(t[4]=i(" Master Alamat se-Indonesia ",-1))]),t[5]||(t[5]=s("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Data wilayah (Provinsi, Kota, Kecamatan) untuk referensi. ",-1))]),e(v,{type:"button",icon:r(U),class:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/30",label:"Tambah Alamat Master",onClick:V},null,8,["icon"])])]),s("div",ee,[s("div",te,[s("div",se,[s("div",ae,[e(X,{url:g("master-addresses.index"),placeholder:"Cari wilayah..."},null,8,["url"])])])]),e(Z,null,{default:l(()=>[e(q,null,{default:l(()=>[s("tr",null,[e(u,{class:"w-10"},{default:l(()=>[...t[6]||(t[6]=[i("No",-1)])]),_:1}),e(u,null,{default:l(()=>[...t[7]||(t[7]=[i("Provinsi",-1)])]),_:1}),e(u,null,{default:l(()=>[...t[8]||(t[8]=[i("Kota / Kabupaten",-1)])]),_:1}),e(u,null,{default:l(()=>[...t[9]||(t[9]=[i("Kecamatan",-1)])]),_:1}),e(u,null,{default:l(()=>[...t[10]||(t[10]=[i("Kode Pos",-1)])]),_:1}),e(u,{class:"w-24 text-center"})])]),_:1}),e(H,null,{default:l(()=>[d.masterAddresses.data.length===0?(c(),h("tr",re,[...t[11]||(t[11]=[s("td",{colspan:"6",class:"py-12 text-center text-slate-500 italic"}," Belum ada data wilayah. ",-1)])])):y("",!0),(c(!0),h(E,null,B(d.masterAddresses.data,(o,K)=>(c(),h("tr",{key:o.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[e(p,{class:"text-center"},{default:l(()=>[i(m(++K+(d.masterAddresses.current_page-1)*d.masterAddresses.per_page),1)]),_:2},1024),e(p,null,{default:l(()=>[s("span",oe,m(o.province),1)]),_:2},1024),e(p,null,{default:l(()=>[s("span",le,m(o.city),1)]),_:2},1024),e(p,null,{default:l(()=>[s("span",ne,m(o.district),1)]),_:2},1024),e(p,null,{default:l(()=>[s("span",ie,m(o.postal_code||"-"),1)]),_:2},1024),e(p,null,{default:l(()=>[s("div",de,[e(v,{type:"button",icon:r(O),class:"border bg-warning-100 border-warning-200 text-warning-600 hover:bg-warning-200 dark:bg-warning-900/50 dark:border-warning-800 dark:text-warning-400",onClick:P=>I(o)},null,8,["icon","onClick"]),e(v,{type:"delete",icon:r(J),class:"border bg-danger-100 border-danger-200 text-danger-600 hover:bg-danger-200 dark:bg-danger-900/50 dark:border-danger-800 dark:text-danger-400",onClick:P=>$(o.id)},null,8,["icon","onClick"])])]),_:2},1024)]))),128))]),_:1})]),_:1})]),(w=d.masterAddresses)!=null&&w.links&&d.masterAddresses.links.length>3?(c(),C(Q,{key:0,links:d.masterAddresses.links},null,8,["links"])):y("",!0),f.value?(c(),h("div",me,[s("div",ce,[s("div",ue,[s("h2",pe,m(x.value?"Edit Alamat Master":"Tambah Alamat Master"),1),s("button",{onClick:_,class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"},[e(r(L),{size:24})])]),s("form",{onSubmit:N(M,["prevent"])},[s("div",be,[e(k,{type:"text",label:"Provinsi",placeholder:"Contoh: Jawa Timur",errors:r(a).errors.province,modelValue:r(a).province,"onUpdate:modelValue":t[0]||(t[0]=o=>r(a).province=o)},null,8,["errors","modelValue"]),e(k,{type:"text",label:"Kota / Kabupaten",placeholder:"Contoh: Surabaya",errors:r(a).errors.city,modelValue:r(a).city,"onUpdate:modelValue":t[1]||(t[1]=o=>r(a).city=o)},null,8,["errors","modelValue"]),e(k,{type:"text",label:"Kecamatan",placeholder:"Contoh: Genteng",errors:r(a).errors.district,modelValue:r(a).district,"onUpdate:modelValue":t[2]||(t[2]=o=>r(a).district=o)},null,8,["errors","modelValue"]),e(k,{type:"text",label:"Kode Pos",placeholder:"Contoh: 60271",errors:r(a).errors.postal_code,modelValue:r(a).postal_code,"onUpdate:modelValue":t[3]||(t[3]=o=>r(a).postal_code=o)},null,8,["errors","modelValue"])]),s("div",fe,[s("button",{type:"button",onClick:_,class:"px-5 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 font-medium transition-colors"}," Batal "),s("button",{type:"submit",disabled:r(a).processing,class:"px-5 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:opacity-50 inline-flex items-center gap-2"},[e(r(G),{size:18}),i(" "+m(r(a).processing?"Menyimpan...":"Simpan Perubahan"),1)],8,xe)])],32)])])):y("",!0)]}),_:1}))}};export{ze as default};
