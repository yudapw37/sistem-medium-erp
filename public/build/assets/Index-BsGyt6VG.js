import{r as E,A as T,a as n,c as v,w as l,b as s,u as o,Z as G,d as t,k as h,v as K,x as $,g as m,p as D,t as c,F as w,h as _,e as d,n as U,O as x}from"./app-DA0EYa_6.js";import{a as H}from"./IconSun-9pmbsCzq.js";import{I as L}from"./IconCheck--wdzxov0.js";import{c as O,_ as M}from"./DashboardLayout-DqHF1oae.js";import{I as P}from"./IconDatabaseOff-DfZH0otJ.js";import{I as R}from"./IconEdit-CG94FACO.js";import{I as W}from"./IconEye-Bk7XjJNy.js";import{I as Z}from"./IconTrash-BZm3hFVP.js";import{_ as F}from"./Button-mcRGNCmf.js";import{_ as q}from"./Table-CzIMA27R.js";import{_ as J}from"./TableCard-BYxyxo2i.js";import{_ as Q,a as X}from"./TableTbody-BBPwPiVX.js";import{_ as f,a as k}from"./TableTh-CVR3I-fd.js";import{_ as Y}from"./Pagination-B8BHcZ6z.js";import"./createVueComponent-CUBUAVU4.js";import"./IconUsers-CzMPbSiM.js";import"./IconFileInvoice-DqQY055S.js";import"./IconReceipt-DjQT6mN-.js";import"./IconShoppingCart-qle56F5S.js";import"./IconChevronRight-QKrPJlsB.js";const ee={class:"mb-6"},te={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},se={class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 mb-6"},ae={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},le=["value"],re={class:"flex items-end gap-2"},oe={class:"font-bold text-slate-900 dark:text-white"},ne={class:"text-slate-600 dark:text-slate-400"},ie={class:"flex items-center gap-2"},de={class:"text-slate-800 dark:text-slate-200"},ue={class:"text-slate-600 dark:text-slate-400 text-sm"},me={class:"flex items-center justify-center gap-2"},ce=["onClick"],fe=["onClick"],ke=["onClick"],pe=["onClick"],be={key:1,class:"flex flex-col items-center justify-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800"},xe={class:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4"},Te={__name:"Index",props:{opnames:Object,warehouses:Array,filters:Object},setup(i){var C,S,z;const g=i,r=E({search:((C=g.filters)==null?void 0:C.search)||"",status:((S=g.filters)==null?void 0:S.status)||"",warehouse_id:((z=g.filters)==null?void 0:z.warehouse_id)||""}),B=T(()=>r.value.search||r.value.status||r.value.warehouse_id),y=()=>{x.get(u("stock-opnames.index"),r.value,{preserveState:!0,preserveScroll:!0})},V=()=>{r.value={search:"",status:"",warehouse_id:""},y()},j=p=>{confirm("Finalkan stock opname ini? Stok akan diupdate sesuai hasil penghitungan fisik dan data akan dikunci.")&&x.post(u("stock-opnames.finalize",p))},A=p=>{confirm("Hapus draf stock opname ini?")&&x.delete(u("stock-opnames.destroy",p))},u=(p,e)=>typeof window<"u"&&window.route?window.route(p,e):"#";return(p,e)=>(n(),v(M,null,{default:l(()=>{var I;return[s(o(G),{title:"Stock Opname"}),t("div",ee,[t("div",te,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Stock Opname"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Kelola penghitungan fisik stok gudang ")],-1)),s(F,{type:"link",icon:o(O),class:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/30",label:"Stock Opname Baru",href:u("stock-opnames.create")},null,8,["icon","href"])])]),t("div",se,[t("div",ae,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Cari Kode ",-1)),h(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.search=a),type:"text",placeholder:"SO-xxxxx",class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[K,r.value.search]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Status ",-1)),h(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.status=a),class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...e[5]||(e[5]=[t("option",{value:""},"Semua",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"finalized"},"Finalized",-1)])],512),[[$,r.value.status]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"}," Gudang ",-1)),h(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.warehouse_id=a),class:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[e[7]||(e[7]=t("option",{value:""},"Semua Gudang",-1)),(n(!0),m(w,null,D(i.warehouses,a=>(n(),m("option",{key:a.id,value:a.id},c(a.name),9,le))),128))],512),[[$,r.value.warehouse_id]])]),t("div",re,[t("button",{onClick:y,class:"flex-1 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-medium transition-colors"}," Filter "),B.value?(n(),m("button",{key:0,onClick:V,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors"}," Reset ")):_("",!0)])])]),i.opnames.data.length>0?(n(),v(J,{key:0,title:"Daftar Stock Opname"},{default:l(()=>[s(q,null,{default:l(()=>[s(Q,null,{default:l(()=>[t("tr",null,[s(f,{class:"w-10"},{default:l(()=>[...e[9]||(e[9]=[d("No",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[10]||(e[10]=[d("Kode",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[11]||(e[11]=[d("Tanggal",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[12]||(e[12]=[d("Gudang",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[13]||(e[13]=[d("Status",-1)])]),_:1}),s(f,null,{default:l(()=>[...e[14]||(e[14]=[d("Catatan",-1)])]),_:1}),s(f,{class:"text-center"},{default:l(()=>[...e[15]||(e[15]=[d("Aksi",-1)])]),_:1})])]),_:1}),s(X,null,{default:l(()=>[(n(!0),m(w,null,D(i.opnames.data,(a,N)=>(n(),m("tr",{key:a.id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[s(k,{class:"text-center"},{default:l(()=>[d(c(++N+(i.opnames.current_page-1)*i.opnames.per_page),1)]),_:2},1024),s(k,null,{default:l(()=>[t("span",oe,c(a.code),1)]),_:2},1024),s(k,null,{default:l(()=>[t("span",ne,c(new Date(a.date).toLocaleDateString("id-ID")),1)]),_:2},1024),s(k,null,{default:l(()=>{var b;return[t("div",ie,[s(o(H),{size:16,class:"text-slate-400"}),t("span",de,c(((b=a.warehouse)==null?void 0:b.name)||"-"),1)])]}),_:2},1024),s(k,null,{default:l(()=>[t("span",{class:U(["px-2 py-1 rounded-full text-xs font-semibold",a.status==="finalized"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},c(a.status==="finalized"?"Finalized":"Draft"),3)]),_:2},1024),s(k,null,{default:l(()=>[t("span",ue,c(a.notes||"-"),1)]),_:2},1024),s(k,null,{default:l(()=>[t("div",me,[t("button",{onClick:b=>o(x).visit(u("stock-opnames.show",a.id)),class:"p-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors",title:"Detail"},[s(o(W),{size:18})],8,ce),a.status==="draft"?(n(),m(w,{key:0},[t("button",{onClick:b=>o(x).visit(u("stock-opnames.edit",a.id)),class:"p-1.5 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400 transition-colors",title:"Edit"},[s(o(R),{size:18})],8,fe),t("button",{onClick:b=>j(a.id),class:"p-1.5 rounded-lg hover:bg-emerald-50 dark:hover:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 transition-colors",title:"Finalize"},[s(o(L),{size:18})],8,ke),t("button",{onClick:b=>A(a.id),class:"p-1.5 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",title:"Hapus"},[s(o(Z),{size:18})],8,pe)],64)):_("",!0)])]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})):(n(),m("div",be,[t("div",xe,[s(o(P),{size:32,class:"text-slate-400","stroke-width":1.5})]),e[16]||(e[16]=t("h3",{class:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-1"}," Belum Ada Stock Opname ",-1)),e[17]||(e[17]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400 mb-4"}," Buat stock opname pertama Anda. ",-1)),s(F,{type:"link",icon:o(O),class:"bg-primary-500 hover:bg-primary-600 text-white",label:"Stock Opname Baru",href:u("stock-opnames.create")},null,8,["icon","href"])])),(I=i.opnames)!=null&&I.links&&i.opnames.links.length>3?(n(),v(Y,{key:2,links:i.opnames.links},null,8,["links"])):_("",!0)]}),_:1}))}};export{Te as default};
