import{A as m,a as n,g as l,d as t,t as e,h as x,u as p,F as N,p as K,r as H,L as J,b as v,Z as Q,w as Z,e as k,j as W,n as B,c as X}from"./app-CIYeQ-4j.js";import{I as Y}from"./IconArrowLeft-D_cLVqwd.js";import{c as tt}from"./createVueComponent-Cyzcg1Tn.js";import{I as et}from"./IconFileInvoice-CDLMKT3Q.js";import{I as st}from"./IconPrinter-ViNqmzsS.js";import{I as z}from"./IconReceipt-CzHzcLcH.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license @tabler/icons-vue v3.36.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var at=tt("outline","external-link","ExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);const nt={class:"thermal-receipt font-mono text-xs leading-tight",style:{width:"80mm",padding:"4mm"}},lt={class:"text-center mb-2"},it={class:"text-sm font-bold"},ot={key:0,class:"text-xs"},rt={key:1,class:"text-xs"},dt={class:"whitespace-pre-wrap"},ct={class:"my-1"},ut={class:"flex justify-between"},xt={class:"flex justify-between"},pt={class:"flex justify-between"},mt={class:"flex justify-between"},bt={class:"whitespace-pre-wrap"},yt={class:"my-1"},ht={class:"font-medium truncate"},gt={key:0,class:"pl-2"},vt={class:"flex justify-between"},ft={class:"whitespace-pre-wrap"},kt={class:"my-1"},wt={class:"flex justify-between"},_t={key:0,class:"flex justify-between"},$t={class:"flex justify-between font-bold text-sm"},jt={class:"whitespace-pre-wrap"},Tt={class:"my-1"},It={class:"flex justify-between"},Lt={key:0,class:"flex justify-between font-bold"},Dt={class:"whitespace-pre-wrap"},St={__name:"ThermalReceipt",props:{transaction:Object,storeName:{type:String,default:"TOKO ANDA"},storeAddress:{type:String,default:""},storePhone:{type:String,default:""}},setup(s){const b=s,r=(i=0)=>"Rp "+Number(i||0).toLocaleString("id-ID"),h=i=>new Date(i).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),C=m(()=>{var i;return((i=b.transaction)==null?void 0:i.details)??[]}),w=m(()=>{var i,o;return((i=b.transaction)==null?void 0:i.grand_total)+(((o=b.transaction)==null?void 0:o.discount)||0)}),g=m(()=>{var i;return((i=b.transaction)==null?void 0:i.discount)||0}),u=m(()=>{var i;return((i=b.transaction)==null?void 0:i.grand_total)||0}),L=m(()=>{var i;return((i=b.transaction)==null?void 0:i.cash)||0}),_=m(()=>{var i;return((i=b.transaction)==null?void 0:i.change)||0}),$={cash:"TUNAI",midtrans:"MIDTRANS",xendit:"XENDIT"},D=m(()=>{var i,o;return $[(o=(i=b.transaction)==null?void 0:i.payment_method)==null?void 0:o.toLowerCase()]||"TUNAI"}),f="=".repeat(32),j="-".repeat(32);return(i,o)=>{var T,d,a,I,P,A;return n(),l("div",nt,[t("div",lt,[t("p",it,e(s.storeName),1),s.storeAddress?(n(),l("p",ot,e(s.storeAddress),1)):x("",!0),s.storePhone?(n(),l("p",rt,"Telp: "+e(s.storePhone),1)):x("",!0)]),t("pre",dt,e(p(f)),1),t("div",ct,[t("div",ut,[o[0]||(o[0]=t("span",null,"No:",-1)),t("span",null,e((T=s.transaction)==null?void 0:T.invoice),1)]),t("div",xt,[o[1]||(o[1]=t("span",null,"Tgl:",-1)),t("span",null,e(h((d=s.transaction)==null?void 0:d.created_at)),1)]),t("div",pt,[o[2]||(o[2]=t("span",null,"Kasir:",-1)),t("span",null,e(((I=(a=s.transaction)==null?void 0:a.cashier)==null?void 0:I.name)||"-"),1)]),t("div",mt,[o[3]||(o[3]=t("span",null,"Pelanggan:",-1)),t("span",null,e(((A=(P=s.transaction)==null?void 0:P.customer)==null?void 0:A.name)||"Umum"),1)])]),t("pre",bt,e(p(f)),1),t("div",yt,[(n(!0),l(N,null,K(C.value,(y,M)=>{var c,R;return n(),l("div",{key:y.id||M,class:"mb-1"},[t("p",ht,e(y.bundle?"[B] "+y.bundle.name:(c=y.product)==null?void 0:c.title),1),(R=y.bundle)!=null&&R.items?(n(),l("div",gt,[(n(!0),l(N,null,K(y.bundle.items,S=>{var O;return n(),l("p",{key:S.id,class:"text-[10px] opacity-75"}," - "+e((O=S.product)==null?void 0:O.title)+" ("+e(S.qty)+" pcs) ",1)}),128))])):x("",!0),t("div",vt,[t("span",null,e(y.qty)+"x @ "+e(r(y.price)),1),t("span",null,e(r(y.price*y.qty)),1)])])}),128))]),t("pre",ft,e(p(j)),1),t("div",kt,[t("div",wt,[o[4]||(o[4]=t("span",null,"Subtotal",-1)),t("span",null,e(r(w.value)),1)]),g.value>0?(n(),l("div",_t,[o[5]||(o[5]=t("span",null,"Diskon",-1)),t("span",null,"-"+e(r(g.value)),1)])):x("",!0),t("div",$t,[o[6]||(o[6]=t("span",null,"TOTAL",-1)),t("span",null,e(r(u.value)),1)])]),t("pre",jt,e(p(j)),1),t("div",Tt,[t("div",It,[t("span",null,"Bayar ("+e(D.value)+")",1),t("span",null,e(r(L.value)),1)]),_.value>0?(n(),l("div",Lt,[o[7]||(o[7]=t("span",null,"Kembali",-1)),t("span",null,e(r(_.value)),1)])):x("",!0)]),t("pre",Dt,e(p(f)),1),o[8]||(o[8]=t("div",{class:"text-center mt-2"},[t("p",{class:"text-xs"},"Terima kasih"),t("p",{class:"text-xs"},"Barang yang sudah dibeli"),t("p",{class:"text-xs"},"tidak dapat ditukar/dikembalikan")],-1))])}}},Nt=G(St,[["__scopeId","data-v-c82b74e8"]]),Ct={class:"thermal-receipt-58 font-mono text-xs",style:{width:"58mm",padding:"2mm"}},Pt={class:"text-center"},At={class:"font-bold"},Ot={key:0},Kt={class:"truncate"},Mt={class:"flex justify-between"},Rt={class:"flex justify-between"},Bt={key:0,class:"flex justify-between"},qt={class:"flex justify-between font-bold"},zt={class:"flex justify-between"},Et={class:"flex justify-between"},Vt={__name:"ThermalReceipt58mm",props:{transaction:Object,storeName:{type:String,default:"TOKO"},storePhone:{type:String,default:""}},setup(s){const b=s,r=(g=0)=>"Rp"+Number(g||0).toLocaleString("id-ID"),h=g=>new Date(g).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),C=m(()=>{var g;return((g=b.transaction)==null?void 0:g.details)??[]}),w="-".repeat(24);return(g,u)=>{var L,_,$,D,f,j,i,o,T;return n(),l("div",Ct,[t("div",Pt,[t("p",At,e(s.storeName),1),s.storePhone?(n(),l("p",Ot,e(s.storePhone),1)):x("",!0)]),t("pre",null,e(p(w)),1),t("p",null,"#"+e((L=s.transaction)==null?void 0:L.invoice),1),t("p",null,e(h((_=s.transaction)==null?void 0:_.created_at)),1),t("pre",null,e(p(w)),1),(n(!0),l(N,null,K(C.value,(d,a)=>{var I;return n(),l("div",{key:a,class:"mb-1"},[t("p",Kt,e(d.bundle?"[B] "+d.bundle.name:(I=d.product)==null?void 0:I.title),1),t("div",Mt,[t("span",null,e(d.qty)+"x",1),t("span",null,e(r(d.price)),1)])])}),128)),t("pre",null,e(p(w)),1),t("div",Rt,[u[0]||(u[0]=t("span",null,"Subtotal",-1)),t("span",null,e(r(((($=s.transaction)==null?void 0:$.grand_total)||0)+(((D=s.transaction)==null?void 0:D.discount)||0))),1)]),(((f=s.transaction)==null?void 0:f.discount)||0)>0?(n(),l("div",Bt,[u[1]||(u[1]=t("span",null,"Diskon",-1)),t("span",null,"-"+e(r(((j=s.transaction)==null?void 0:j.discount)||0)),1)])):x("",!0),t("div",qt,[u[2]||(u[2]=t("span",null,"TOTAL",-1)),t("span",null,e(r((i=s.transaction)==null?void 0:i.grand_total)),1)]),t("div",zt,[u[3]||(u[3]=t("span",null,"Bayar",-1)),t("span",null,e(r((o=s.transaction)==null?void 0:o.cash)),1)]),t("div",Et,[u[4]||(u[4]=t("span",null,"Kembali",-1)),t("span",null,e(r((T=s.transaction)==null?void 0:T.change)),1)]),t("pre",null,e(p(w)),1),u[5]||(u[5]=t("p",{class:"text-center"},"Terima kasih!",-1))])}}},Ut=G(Vt,[["__scopeId","data-v-6733004d"]]),Ft={class:"min-h-screen bg-slate-100 dark:bg-slate-950 py-8 px-4 print:bg-white print:p-0"},Xt={class:"max-w-4xl mx-auto space-y-6"},Gt={class:"flex flex-wrap items-center justify-between gap-3 print:hidden"},Ht={class:"flex items-center gap-2"},Jt={class:"flex bg-slate-200 dark:bg-slate-800 rounded-xl p-1"},Qt=["href"],Zt={key:0,class:"flex justify-center print:block"},Wt={class:"bg-white rounded-2xl border border-slate-200 dark:border-slate-700 shadow-xl p-4 print:shadow-none print:border-0 print:p-0 print:rounded-none"},Yt={key:1,class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-xl print:shadow-none print:border-slate-300"},te={class:"bg-gradient-to-r from-primary-500 to-primary-700 px-6 py-6 text-white print:bg-slate-100 print:text-slate-900"},ee={class:"flex flex-wrap items-start justify-between gap-4"},se={class:"flex items-center gap-2 mb-2"},ae={class:"text-2xl font-bold"},ne={class:"text-sm opacity-80 print:opacity-100 mt-1"},le={class:"text-right"},ie={class:"text-sm opacity-80 print:opacity-100 mt-2"},oe={class:"grid md:grid-cols-2 gap-6 px-6 py-6 border-b border-slate-100 dark:border-slate-800"},re={class:"text-base font-semibold text-slate-900 dark:text-white"},de={key:0,class:"text-sm text-slate-600 dark:text-slate-400"},ce={key:1,class:"text-sm text-slate-600 dark:text-slate-400"},ue={class:"text-base font-semibold text-slate-900 dark:text-white"},xe={class:"px-6 py-6"},pe={class:"w-full text-sm"},me={class:"divide-y divide-slate-100 dark:divide-slate-800"},be={class:"py-3"},ye={class:"font-medium text-slate-900 dark:text-white"},he={key:0,class:"mt-1 space-y-0.5"},ge={key:1,class:"text-xs text-slate-500 dark:text-slate-400"},ve={class:"py-3 text-right text-slate-600 dark:text-slate-400"},fe={class:"py-3 text-center text-slate-600 dark:text-slate-400"},ke={class:"py-3 text-right font-semibold text-slate-900 dark:text-white"},we={class:"bg-slate-50 dark:bg-slate-800/50 px-6 py-6"},_e={class:"max-w-xs ml-auto space-y-2 text-sm"},$e={class:"flex justify-between text-slate-600 dark:text-slate-400"},je={key:0,class:"flex justify-between text-slate-600 dark:text-slate-400"},Te={key:0,class:"text-xs ml-1"},Ie={key:1,class:"flex justify-between text-slate-600 dark:text-slate-400"},Le={key:0,class:"text-xs ml-1"},De={class:"flex justify-between text-lg font-bold text-slate-900 dark:text-white pt-2 border-t border-slate-200 dark:border-slate-700"},Se={class:"flex justify-between text-slate-600 dark:text-slate-400 pt-2"},Ne={class:"flex justify-between text-success-600 dark:text-success-400 font-medium"},Be={__name:"Print",props:{transaction:Object},setup(s){const b=s,r=H("invoice"),h=(d=0)=>Number(d||0).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),C=d=>new Date(d).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=m(()=>{var d;return((d=b.transaction)==null?void 0:d.details)??[]}),g={cash:"Tunai",midtrans:"Midtrans",xendit:"Xendit"},u=m(()=>{var d;return(((d=b.transaction)==null?void 0:d.payment_method)||"cash").toLowerCase()}),L=m(()=>g[u.value]??"Tunai"),_={paid:"Lunas",pending:"Menunggu",failed:"Gagal",expired:"Kedaluwarsa"},$=m(()=>{var d;return(((d=b.transaction)==null?void 0:d.payment_status)||"").toLowerCase()}),D=m(()=>_[$.value]??(u.value==="cash"?"Lunas":"Menunggu")),f={paid:"bg-success-100 text-success-700 dark:bg-success-900/50 dark:text-success-400",pending:"bg-warning-100 text-warning-700 dark:bg-warning-900/50 dark:text-warning-400",failed:"bg-danger-100 text-danger-700 dark:bg-danger-900/50 dark:text-danger-400",expired:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"},j=m(()=>f[$.value]??f.paid),i=m(()=>u.value!=="cash"),o=m(()=>i.value&&b.transaction.payment_url),T=()=>{window.print()};return(d,a)=>{var P,A,y,M;const I=J("IconArrowRight");return n(),l("div",null,[v(p(Q),{title:"Invoice Penjualan"}),t("div",Ft,[t("div",Xt,[t("div",Gt,[v(p(W),{href:d.route("transactions.index"),class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},{default:Z(()=>[v(p(Y),{size:18}),a[3]||(a[3]=k(" Kembali ke kasir ",-1))]),_:1},8,["href"]),t("div",Ht,[t("div",Jt,[t("button",{onClick:a[0]||(a[0]=c=>r.value="invoice"),class:B(["px-3 py-2 rounded-lg text-xs font-medium transition-all",r.value==="invoice"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow":"text-slate-500 dark:text-slate-400 hover:text-slate-700"])},[v(p(et),{size:16,class:"inline mr-1"}),a[4]||(a[4]=k(" Invoice ",-1))],2),t("button",{onClick:a[1]||(a[1]=c=>r.value="thermal80"),class:B(["px-3 py-2 rounded-lg text-xs font-medium transition-all",r.value==="thermal80"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow":"text-slate-500 dark:text-slate-400 hover:text-slate-700"])},[v(p(z),{size:16,class:"inline mr-1"}),a[5]||(a[5]=k(" Struk 80mm ",-1))],2),t("button",{onClick:a[2]||(a[2]=c=>r.value="thermal58"),class:B(["px-3 py-2 rounded-lg text-xs font-medium transition-all",r.value==="thermal58"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow":"text-slate-500 dark:text-slate-400 hover:text-slate-700"])},[v(p(z),{size:16,class:"inline mr-1"}),a[6]||(a[6]=k(" Struk 58mm ",-1))],2)]),o.value?(n(),l("a",{key:0,href:s.transaction.payment_url,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl border border-primary-200 dark:border-primary-800 text-sm font-semibold text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-950/50 transition-colors"},[v(p(at),{size:18}),a[7]||(a[7]=k(" Pembayaran ",-1))],8,Qt)):x("",!0),t("button",{type:"button",onClick:T,class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-sm font-semibold text-white shadow-lg shadow-primary-500/30 transition-colors"},[v(p(st),{size:18}),a[8]||(a[8]=k(" Cetak ",-1))])])]),r.value==="thermal80"||r.value==="thermal58"?(n(),l("div",Zt,[t("div",Wt,[r.value==="thermal80"?(n(),X(Nt,{key:0,transaction:s.transaction,"store-name":"TOKO ANDA","store-address":"Jl. Contoh No. 123","store-phone":"08123456789"},null,8,["transaction"])):(n(),X(Ut,{key:1,transaction:s.transaction,"store-name":"TOKO","store-phone":"08123456789"},null,8,["transaction"]))])])):x("",!0),r.value==="invoice"?(n(),l("div",Yt,[t("div",te,[t("div",ee,[t("div",null,[t("div",se,[v(p(z),{size:24}),a[9]||(a[9]=t("span",{class:"text-sm font-medium opacity-90 print:opacity-100"}," INVOICE ",-1))]),t("p",ae,e(s.transaction.invoice),1),t("p",ne,e(C(s.transaction.created_at)),1)]),t("div",le,[t("span",{class:B(["inline-block px-3 py-1 text-xs font-semibold rounded-full",j.value])},e(D.value),3),t("p",ie,e(L.value),1)])])]),t("div",oe,[t("div",null,[a[10]||(a[10]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500 mb-2"}," Pelanggan ",-1)),t("p",re,e(((P=s.transaction.customer)==null?void 0:P.name)??"Umum"),1),(A=s.transaction.customer)!=null&&A.address?(n(),l("p",de,e(s.transaction.customer.address),1)):x("",!0),(y=s.transaction.customer)!=null&&y.phone?(n(),l("p",ce,e(s.transaction.customer.phone),1)):x("",!0)]),t("div",null,[a[11]||(a[11]=t("p",{class:"text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500 mb-2"}," Kasir ",-1)),t("p",ue,e(((M=s.transaction.cashier)==null?void 0:M.name)??"-"),1)])]),t("div",xe,[t("table",pe,[a[12]||(a[12]=t("thead",null,[t("tr",{class:"border-b border-slate-100 dark:border-slate-800"},[t("th",{class:"pb-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500"}," Produk "),t("th",{class:"pb-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500"}," Harga "),t("th",{class:"pb-3 text-center text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500"}," Qty "),t("th",{class:"pb-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500"}," Subtotal ")])],-1)),t("tbody",me,[(n(!0),l(N,null,K(w.value,(c,R)=>{var S,O,E,V,U;return n(),l("tr",{key:c.id??R},[t("td",be,[t("p",ye,e(c.bundle?"[BUNDLE] "+c.bundle.name:(S=c.product)==null?void 0:S.title),1),(O=c.bundle)!=null&&O.items?(n(),l("div",he,[(n(!0),l(N,null,K(c.bundle.items,q=>{var F;return n(),l("p",{key:q.id,class:"text-[10px] text-slate-500 flex items-center gap-1"},[v(I,{size:10}),k(" "+e((F=q.product)==null?void 0:F.title)+" ("+e(q.qty)+" pcs) ",1)])}),128))])):x("",!0),(E=c.product)!=null&&E.barcode||(V=c.bundle)!=null&&V.code?(n(),l("p",ge,e(((U=c.bundle)==null?void 0:U.code)||c.product.barcode),1)):x("",!0)]),t("td",ve,e(h(c.price)),1),t("td",fe,e(c.qty||c.quantity),1),t("td",ke,e(h((c.price||0)*(c.qty||c.quantity||0))),1)])}),128))])])]),t("div",we,[t("div",_e,[t("div",$e,[a[13]||(a[13]=t("span",null,"Subtotal",-1)),t("span",null,e(h(s.transaction.grand_total+(s.transaction.discount||0)+(s.transaction.event_discount||0))),1)]),(s.transaction.discount||0)>0?(n(),l("div",je,[t("span",null,[a[14]||(a[14]=k(" Diskon ",-1)),s.transaction.discount_type==="percent"&&s.transaction.discount_percent?(n(),l("span",Te," ("+e(s.transaction.discount_percent)+"%) ",1)):x("",!0)]),t("span",null,"- "+e(h(s.transaction.discount||0)),1)])):x("",!0),(s.transaction.event_discount||0)>0?(n(),l("div",Ie,[t("span",null,[a[15]||(a[15]=k(" Diskon Event ",-1)),s.transaction.event_discount_type==="percent"&&s.transaction.event_discount_percent?(n(),l("span",Le," ("+e(s.transaction.event_discount_percent)+"%) ",1)):x("",!0)]),t("span",null,"- "+e(h(s.transaction.event_discount||0)),1)])):x("",!0),t("div",De,[a[16]||(a[16]=t("span",null,"Total",-1)),t("span",null,e(h(s.transaction.grand_total)),1)]),u.value==="cash"?(n(),l(N,{key:2},[t("div",Se,[a[17]||(a[17]=t("span",null,"Tunai",-1)),t("span",null,e(h(s.transaction.cash)),1)]),t("div",Ne,[a[18]||(a[18]=t("span",null,"Kembali",-1)),t("span",null,e(h(s.transaction.change)),1)])],64)):x("",!0)])]),a[19]||(a[19]=t("div",{class:"px-6 py-4 text-center border-t border-slate-100 dark:border-slate-800"},[t("p",{class:"text-xs text-slate-400 dark:text-slate-500 uppercase tracking-widest"}," Terima kasih telah berbelanja ")],-1))])):x("",!0)])])])}}};export{Be as default};
